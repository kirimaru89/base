import{g as Ge,r as c,C as pe,h as Z,j as S,b as t,i as qe,k as M,l as We,m as Ue,n as Ve,_ as ve,o as Xe,p as $e,q as F,s as Ke,f as Ce,w as W,t as u,M as Se,T as H,U as P,R as Qe,F as x,c as Je,a as q,x as ye,d as Ye,y as Ze}from"./index.d8d91588.js";import{e as et,P as tt,R as oe,a as re,E as it,b as nt,S as lt,A as at}from"./pem_check.3e14cc85.js";import{h as se,C as ot}from"./moment.a4b4dba9.js";import{D as rt}from"./index.ec907f20.js";import{T as k}from"./select_input.a4e8b1c9.js";import{D as de}from"./date_input.10280a27.js";import{F as O}from"./index.59abc101.js";import{T as st}from"./index.0012090e.js";import{C as dt}from"./index.9a22fd67.js";import"./iconUtil.3e86a04f.js";import"./index.93d02781.js";import"./PlusOutlined.16a4ec92.js";import"./index.f77f15be.js";import"./CalendarOutlined.3e9bb1c6.js";const ge=Ge.createContext({});ge.Consumer;var Ee=globalThis&&globalThis.__rest||function(i,e){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n};const ct=i=>{var{prefixCls:e,className:n,avatar:a,title:o,description:d}=i,v=Ee(i,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:y}=c.exports.useContext(pe),b=y("list",e),p=Z(`${b}-item-meta`,n),_=S("div",{className:`${b}-item-meta-content`,children:[o&&t("h4",{className:`${b}-item-meta-title`,children:o}),d&&t("div",{className:`${b}-item-meta-description`,children:d})]});return S("div",{...Object.assign({},v,{className:p}),children:[a&&t("div",{className:`${b}-item-meta-avatar`,children:a}),(o||d)&&_]})},ut=(i,e)=>{var{prefixCls:n,children:a,actions:o,extra:d,className:v,colStyle:y}=i,b=Ee(i,["prefixCls","children","actions","extra","className","colStyle"]);const{grid:p,itemLayout:_}=c.exports.useContext(ge),{getPrefixCls:I}=c.exports.useContext(pe),m=()=>{let r;return c.exports.Children.forEach(a,f=>{typeof f=="string"&&(r=!0)}),r&&c.exports.Children.count(a)>1},D=()=>_==="vertical"?!!d:!m(),g=I("list",n),C=o&&o.length>0&&t("ul",{className:`${g}-item-action`,children:o.map((r,f)=>S("li",{children:[r,f!==o.length-1&&t("em",{className:`${g}-item-action-split`})]},`${g}-item-action-${f}`))},"actions"),j=t(p?"div":"li",{...Object.assign({},b,p?{}:{ref:e},{className:Z(`${g}-item`,{[`${g}-item-no-flex`]:!D()},v)}),children:_==="vertical"&&d?[S("div",{className:`${g}-item-main`,children:[a,C]},"content"),t("div",{className:`${g}-item-extra`,children:d},"extra")]:[a,C,qe(d,{key:"extra"})]});return p?t(M,{ref:e,flex:1,style:y,children:j}):j},Ie=c.exports.forwardRef(ut);Ie.Meta=ct;const mt=Ie,pt=i=>{const{listBorderedCls:e,componentCls:n,paddingLG:a,margin:o,itemPaddingSM:d,itemPaddingLG:v,marginLG:y,borderRadiusLG:b}=i;return{[`${e}`]:{border:`${i.lineWidth}px ${i.lineType} ${i.colorBorder}`,borderRadius:b,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:a},[`${n}-pagination`]:{margin:`${o}px ${y}px`}},[`${e}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:d}},[`${e}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:v}}}},gt=i=>{const{componentCls:e,screenSM:n,screenMD:a,marginLG:o,marginSM:d,margin:v}=i;return{[`@media screen and (max-width:${a})`]:{[`${e}`]:{[`${e}-item`]:{[`${e}-item-action`]:{marginInlineStart:o}}},[`${e}-vertical`]:{[`${e}-item`]:{[`${e}-item-extra`]:{marginInlineStart:o}}}},[`@media screen and (max-width: ${n})`]:{[`${e}`]:{[`${e}-item`]:{flexWrap:"wrap",[`${e}-action`]:{marginInlineStart:d}}},[`${e}-vertical`]:{[`${e}-item`]:{flexWrap:"wrap-reverse",[`${e}-item-main`]:{minWidth:i.contentWidth},[`${e}-item-extra`]:{margin:`auto auto ${v}px`}}}}}},ht=i=>{const{componentCls:e,antCls:n,controlHeight:a,minHeight:o,paddingSM:d,marginLG:v,padding:y,itemPadding:b,colorPrimary:p,itemPaddingSM:_,itemPaddingLG:I,paddingXS:m,margin:D,colorText:g,colorTextDescription:C,motionDurationSlow:z,lineWidth:j,headerBg:r,footerBg:f,emptyTextPadding:s,metaMarginBottom:h,avatarMarginRight:N,titleMarginBottom:L,descriptionFontSize:te}=i,U={};return["start","center","end"].forEach(V=>{U[`&-align-${V}`]={textAlign:V}}),{[`${e}`]:Object.assign(Object.assign({},Ve(i)),{position:"relative","*":{outline:"none"},[`${e}-header`]:{background:r},[`${e}-footer`]:{background:f},[`${e}-header, ${e}-footer`]:{paddingBlock:d},[`${e}-pagination`]:Object.assign(Object.assign({marginBlockStart:v},U),{[`${n}-pagination-options`]:{textAlign:"start"}}),[`${e}-spin`]:{minHeight:o,textAlign:"center"},[`${e}-items`]:{margin:0,padding:0,listStyle:"none"},[`${e}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:b,color:g,[`${e}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${e}-item-meta-avatar`]:{marginInlineEnd:N},[`${e}-item-meta-content`]:{flex:"1 0",width:0,color:g},[`${e}-item-meta-title`]:{margin:`0 0 ${i.marginXXS}px 0`,color:g,fontSize:i.fontSize,lineHeight:i.lineHeight,"> a":{color:g,transition:`all ${z}`,["&:hover"]:{color:p}}},[`${e}-item-meta-description`]:{color:C,fontSize:te,lineHeight:i.lineHeight}},[`${e}-item-action`]:{flex:"0 0 auto",marginInlineStart:i.marginXXL,padding:0,fontSize:0,listStyle:"none",["& > li"]:{position:"relative",display:"inline-block",padding:`0 ${m}px`,color:C,fontSize:i.fontSize,lineHeight:i.lineHeight,textAlign:"center",["&:first-child"]:{paddingInlineStart:0}},[`${e}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:j,height:Math.ceil(i.fontSize*i.lineHeight)-i.marginXXS*2,transform:"translateY(-50%)",backgroundColor:i.colorSplit}}},[`${e}-empty`]:{padding:`${y}px 0`,color:C,fontSize:i.fontSizeSM,textAlign:"center"},[`${e}-empty-text`]:{padding:s,color:i.colorTextDisabled,fontSize:i.fontSize,textAlign:"center"},[`${e}-item-no-flex`]:{display:"block"}}),[`${e}-grid ${n}-col > ${e}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:D,paddingBlock:0,borderBlockEnd:"none"},[`${e}-vertical ${e}-item`]:{alignItems:"initial",[`${e}-item-main`]:{display:"block",flex:1},[`${e}-item-extra`]:{marginInlineStart:v},[`${e}-item-meta`]:{marginBlockEnd:h,[`${e}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:L,color:g,fontSize:i.fontSizeLG,lineHeight:i.lineHeightLG}},[`${e}-item-action`]:{marginBlockStart:y,marginInlineStart:"auto","> li":{padding:`0 ${y}px`,["&:first-child"]:{paddingInlineStart:0}}}},[`${e}-split ${e}-item`]:{borderBlockEnd:`${i.lineWidth}px ${i.lineType} ${i.colorSplit}`,["&:last-child"]:{borderBlockEnd:"none"}},[`${e}-split ${e}-header`]:{borderBlockEnd:`${i.lineWidth}px ${i.lineType} ${i.colorSplit}`},[`${e}-split${e}-empty ${e}-footer`]:{borderTop:`${i.lineWidth}px ${i.lineType} ${i.colorSplit}`},[`${e}-loading ${e}-spin-nested-loading`]:{minHeight:a},[`${e}-split${e}-something-after-last-item ${n}-spin-container > ${e}-items > ${e}-item:last-child`]:{borderBlockEnd:`${i.lineWidth}px ${i.lineType} ${i.colorSplit}`},[`${e}-lg ${e}-item`]:{padding:I},[`${e}-sm ${e}-item`]:{padding:_},[`${e}:not(${e}-vertical)`]:{[`${e}-item-no-flex`]:{[`${e}-item-action`]:{float:"right"}}}}},ft=We("List",i=>{const e=Ue(i,{listBorderedCls:`${i.componentCls}-bordered`,minHeight:i.controlHeightLG});return[ht(e),pt(e),gt(e)]},i=>({contentWidth:220,itemPadding:`${i.paddingContentVertical}px 0`,itemPaddingSM:`${i.paddingContentVerticalSM}px ${i.paddingContentHorizontal}px`,itemPaddingLG:`${i.paddingContentVerticalLG}px ${i.paddingContentHorizontalLG}px`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:i.padding,metaMarginBottom:i.padding,avatarMarginRight:i.padding,titleMarginBottom:i.paddingSM,descriptionFontSize:i.fontSize}));var xt=globalThis&&globalThis.__rest||function(i,e){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n};function B(i){var e,{pagination:n=!1,prefixCls:a,bordered:o=!1,split:d=!0,className:v,rootClassName:y,style:b,children:p,itemLayout:_,loadMore:I,grid:m,dataSource:D=[],size:g,header:C,footer:z,loading:j=!1,rowKey:r,renderItem:f,locale:s}=i,h=xt(i,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const N=n&&typeof n=="object"?n:{},[L,te]=c.exports.useState(N.defaultCurrent||1),[U,V]=c.exports.useState(N.defaultPageSize||10),{getPrefixCls:ze,renderEmpty:ie,direction:je,list:A}=c.exports.useContext(pe),Me={current:1,total:0},fe=$=>(T,J)=>{te(T),V(J),n&&n[$]&&n[$](T,J)},Ne=fe("onChange"),ke=fe("onShowSizeChange"),Pe=($,T)=>f?(typeof r=="function"?r($):r?$[r]:$.key,t(Ce,{children:f($,T)})):null,Oe=()=>!!(I||n||z),E=ze("list",a),[Be,Le]=ft(E);let R=j;typeof R=="boolean"&&(R={spinning:R});const ne=R&&R.spinning;let X="";switch(g){case"large":X="lg";break;case"small":X="sm";break}const Ae=Z(E,{[`${E}-vertical`]:_==="vertical",[`${E}-${X}`]:X,[`${E}-split`]:d,[`${E}-bordered`]:o,[`${E}-loading`]:ne,[`${E}-grid`]:!!m,[`${E}-something-after-last-item`]:Oe(),[`${E}-rtl`]:je==="rtl"},A==null?void 0:A.className,v,y,Le),w=et(Me,{total:D.length,current:L,pageSize:U},n||{}),xe=Math.ceil(w.total/w.pageSize);w.current>xe&&(w.current=xe);const _e=n?t("div",{className:Z(`${E}-pagination`,`${E}-pagination-align-${(e=w==null?void 0:w.align)!==null&&e!==void 0?e:"end"}`),children:t(tt,{...Object.assign({},w,{onChange:Ne,onShowSizeChange:ke})})}):null;let le=ve(D);n&&D.length>(w.current-1)*w.pageSize&&(le=ve(D).splice((w.current-1)*w.pageSize,w.pageSize));const Re=Object.keys(m||{}).some($=>["xs","sm","md","lg","xl","xxl"].includes($)),be=Xe(Re),K=c.exports.useMemo(()=>{for(let $=0;$<$e.length;$+=1){const T=$e[$];if(be[T])return T}},[be]),Fe=c.exports.useMemo(()=>{if(!m)return;const $=K&&m[K]?m[K]:m.column;if($)return{width:`${100/$}%`,maxWidth:`${100/$}%`}},[m==null?void 0:m.column,K]);let ae=ne&&t("div",{style:{minHeight:53}});if(le.length>0){const $=le.map((T,J)=>Pe(T,J));ae=m?t(F,{gutter:m.gutter,children:c.exports.Children.map($,T=>t("div",{style:Fe,children:T},T==null?void 0:T.key))}):t("ul",{className:`${E}-items`,children:$})}else!p&&!ne&&(ae=t("div",{className:`${E}-empty-text`,children:s&&s.emptyText||(ie==null?void 0:ie("List"))||t(rt,{componentName:"List"})}));const Q=w.position||"bottom",He=c.exports.useMemo(()=>({grid:m,itemLayout:_}),[JSON.stringify(m),_]);return Be(t(ge.Provider,{value:He,children:S("div",{...Object.assign({style:Object.assign(Object.assign({},A==null?void 0:A.style),b),className:Ae},h),children:[(Q==="top"||Q==="both")&&_e,C&&t("div",{className:`${E}-header`,children:C}),S(Ke,{...Object.assign({},R),children:[ae,p]}),z&&t("div",{className:`${E}-footer`,children:z}),I||(Q==="bottom"||Q==="both")&&_e]})}))}B.Item=mt;const _t={base:{prefix:"account/member",endpoints:{crud:"",profile:"profile"}}},G=W.prefixMapValues(_t.base),bt=u.exports.t`Quản lý đoàn viên`,ce="\u0111o\xE0n vi\xEAn",me={heading:bt,name:ce,deleteOne:u.exports.t`Do you want to remote this ${ce}?`,deleteMultiple:u.exports.t`Do you want to remote these ${ce}?`},vt={id:0,full_name:"",email:"",mobile:"",gender:1,position:void 0,joined_date:null,id_number:"",id_issued_date:null,id_issued_place:"",dob:void 0,organization:void 0,place_of_residence:"",ethnic:void 0,religion:void 0,occupation:void 0,education_level:void 0,qualification:void 0,it_level:void 0,political_theory_level:void 0,foreign_language_level:void 0},l={full_name:u.exports.t`Họ và tên`,email:u.exports.t`Email`,mobile:u.exports.t`Số điện thoại`,gender:u.exports.t`Giới tính`,position:u.exports.t`Chức vụ trong đoàn`,joined_date:u.exports.t`Ngày vào Đoàn`,id_number:u.exports.t`Số CCCD`,id_issued_date:u.exports.t`Ngày cấp`,id_issued_place:u.exports.t`Nơi cấp`,dob:u.exports.t`Ngày sinh`,organization:u.exports.t`Nơi sinh hoạt đoàn`,place_of_origin:u.exports.t`Quê quán`,place_of_residence:u.exports.t`Địa chỉ thường trú`,ethnic:u.exports.t`Dân tộc`,religion:u.exports.t`Tôn giáo`,occupation:u.exports.t`Nghề nghiệp`,education_level:u.exports.t`Trình độ văn hoá`,qualification:u.exports.t`Trình độ chuyên môn`,it_level:u.exports.t`Trình độ tin học`,political_theory_level:u.exports.t`Lý luận chính trị`,foreign_language_level:u.exports.t`Trình độ ngoại ngữ`},De=c.exports.forwardRef(({},i)=>{var p,_,I,m,D,g,C,z,j,r,f;const[e,n]=c.exports.useState({}),[a,o]=c.exports.useState(!1),d=s=>{P.toggleGlobalLoading(),W.apiCall(`${G.crud}${s}`).then(h=>{var N,L;h.organization_id=((N=h.organization)==null?void 0:N.label)||"",h.joined_date=(L=h.joined_date)!=null?L:"",n(h),o(!0)}).finally(()=>P.toggleGlobalLoading(!1))};c.exports.useImperativeHandle(i,()=>({loadData:d}));const v=[{key:l.full_name,value:e.full_name},{key:l.mobile,value:e.mobile},{key:l.email,value:e.email},{key:l.id_number,value:e.id_number},{key:l.id_issued_date,value:e.id_issued_date?se(e.id_issued_date).format("DD/MM/yyyy"):""},{key:l.id_issued_place,value:e.id_issued_place},{key:l.dob,value:e.dob?se(e.dob).format("DD/MM/yyyy"):""},{key:l.gender,value:(p=e.gender_obj)==null?void 0:p.label},{key:l.place_of_origin,value:e.place_of_origin},{key:l.place_of_residence,value:e.place_of_residence},{key:l.ethnic,value:(_=e.ethnic_obj)==null?void 0:_.label},{key:l.religion,value:(I=e.religion_obj)==null?void 0:I.label},{key:l.occupation,value:(m=e.occupation_obj)==null?void 0:m.label}],y=[{key:l.position,value:(D=e.position_obj)==null?void 0:D.label},{key:l.joined_date,value:e.joined_date?se(e.joined_date).format("DD/MM/yyyy"):""},{key:l.organization,value:(g=e.organization_obj)==null?void 0:g.label}],b=[{key:l.education_level,value:(C=e.education_level_obj)==null?void 0:C.label},{key:l.qualification,value:(z=e.qualification_obj)==null?void 0:z.label},{key:l.it_level,value:(j=e.it_level_obj)==null?void 0:j.label},{key:l.political_theory_level,value:(r=e.political_theory_level_obj)==null?void 0:r.label},{key:l.foreign_language_level,value:(f=e.foreign_language_level_obj)==null?void 0:f.label}];return t(Se,{destroyOnClose:!0,okButtonProps:{style:{display:"none"}},open:a,onCancel:()=>o(!1),cancelText:u.exports.t`Cancel`,width:1200,title:t(H.Title,{level:4,children:e.full_name}),children:S(F,{gutter:[16,16],children:[t(M,{span:12,children:t(B,{header:t(H.Title,{level:5,children:"Th\xF4ng tin c\xE1 nh\xE2n"}),bordered:!0,dataSource:v,renderItem:s=>t(B.Item,{children:S(F,{style:{width:"100%"},children:[S(M,{span:8,children:[s.key,":"]}),t(M,{span:16,children:s.value})]})})})}),t(M,{span:12,children:S(F,{gutter:[16,16],children:[t(M,{span:24,children:t(B,{header:t(H.Title,{level:5,children:"Th\xF4ng tin \u0110o\xE0n"}),bordered:!0,dataSource:y,renderItem:s=>t(B.Item,{children:S(F,{style:{width:"100%"},children:[S(M,{span:8,children:[s.key,":"]}),t(M,{span:16,children:s.value})]})})})}),t(M,{span:24,children:t(B,{header:t(H.Title,{level:5,children:"Tr\xECnh \u0111\u1ED9 h\u1ECDc v\u1EA5n"}),bordered:!0,dataSource:b,renderItem:s=>t(B.Item,{children:S(F,{style:{width:"100%"},children:[S(M,{span:8,children:[s.key,":"]}),t(M,{span:16,children:s.value})]})})})})]})})]})})});De.displayName="newDialog";const $t=De,we=Qe({key:"unionMemberOptions",default:{}}),{Title:ue,Text:At}=H,he="UnionMemberForm";function ee({data:i,onChange:e}){const[n]=x.useForm(),a=Je(we);let{religion:o,position:d,ethnic:v,occupation:y,education_level:b,qualification:p,it_level:_,foreign_language_level:I,political_theory_level:m,organization_tree:D}=a;const g=P.isEmpty(i)?vt:{...i},C=g.id,z=C?`${G.crud}${C}`:G.crud,j=C?"put":"post",r={full_name:{name:"full_name",label:l.full_name,rules:[q.ruleRequired()]},email:{name:"email",label:l.email,rules:[q.ruleRequired()]},mobile:{name:"mobile",label:l.mobile,rules:[q.ruleRequired()]},id_number:{name:"id_number",label:l.id_number},id_issued_date:{name:"id_issued_date",label:l.id_issued_date},id_issued_place:{name:"id_issued_place",label:l.id_issued_place},dob:{name:"dob",label:l.dob},gender:{name:"gender",label:l.gender},organization:{name:"organization",label:l.organization,rules:[q.ruleRequired()]},place_of_origin:{name:"place_of_origin",label:l.place_of_origin},place_of_residence:{name:"place_of_residence",label:l.place_of_residence},ethnic:{name:"ethnic",label:l.ethnic},religion:{name:"religion",label:l.religion},occupation:{name:"occupation",label:l.occupation},position:{name:"position",label:l.position},joined_date:{name:"joined_date",label:l.joined_date},education_level:{name:"education_level",label:l.education_level},qualification:{name:"qualification",label:l.qualification},it_level:{name:"it_level",label:l.it_level},political_theory_level:{name:"political_theory_level",label:l.political_theory_level},foreign_language_level:{name:"foreign_language_level",label:l.foreign_language_level}};return S(x,{form:n,name:he,labelCol:{span:6},labelAlign:"left",wrapperCol:{span:18},requiredmarkposition:"right",initialValues:{...g},onFinish:f=>{let s={...f,religion:f.religion||null,ethnic:f.ethnic||null,occupation:f.occupation||null,education_level:f.education_level||null,qualification:f.qualification||null,it_level:f.it_level||null,political_theory_level:f.political_theory_level||null,foreign_language_level:f.foreign_language_level||null};return q.submit(z,s,j).then(h=>(ye.success({message:(h.id?"Ch\u1EC9nh s\u1EEDa":"Th\xEAm m\u1EDBi")+" \u0111o\xE0n vi\xEAn th\xE0nh c\xF4ng",duration:8}),e(h,C))).catch(h=>{console.log(h),ye.error({message:(i.id?"Ch\u1EC9nh s\u1EEDa":"Th\xEAm m\u1EDBi")+" \u0111o\xE0n vi\xEAn th\u1EA5t b\u1EA1i",duration:8})})},children:[t(ue,{level:5,children:"Th\xF4ng tin c\xE1 nh\xE2n"}),t(x.Item,{...r.full_name,children:t(O,{})}),t(x.Item,{...r.mobile,children:t(O,{})}),t(x.Item,{...r.email,children:t(O,{})}),t(x.Item,{...r.id_number,children:t(O,{})}),t(x.Item,{...r.id_issued_date,children:t(de,{})}),t(x.Item,{...r.id_issued_place,children:t(O,{})}),t(x.Item,{...r.dob,children:t(de,{})}),t(x.Item,{...r.gender,children:S(oe.Group,{children:[t(oe,{value:1,children:"Nam"}),t(oe,{value:0,children:"N\u1EEF"})]})}),t(x.Item,{...r.place_of_origin,children:t(O,{})}),t(x.Item,{...r.place_of_residence,children:t(O,{})}),t(x.Item,{...r.ethnic,children:t(k,{options:v,block:!0,placeholder:"Ch\u1ECDn d\xE2n t\u1ED9c",allowClear:!0})}),t(x.Item,{...r.religion,children:t(k,{options:o,block:!0,placeholder:"Ch\u1ECDn t\xF4n gi\xE1o",allowClear:!0})}),t(x.Item,{...r.occupation,children:t(k,{options:y,block:!0,placeholder:"Ch\u1ECDn ngh\u1EC1 nghi\u1EC7p",allowClear:!0})}),t(ue,{level:5,children:"Th\xF4ng tin \u0110o\xE0n"}),t(x.Item,{...r.position,children:t(k,{options:d,block:!0,placeholder:"Ch\u1ECDn ch\u1EE9c v\u1EE5",allowClear:!0})}),t(x.Item,{...r.joined_date,children:t(de,{})}),t(x.Item,{...r.organization,children:t(st,{style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:D,placeholder:"Ch\u1ECDn n\u01A1i sinh ho\u1EA1t",treeDefaultExpandAll:!0,fieldNames:{label:"title",value:"id",children:"children"},showSearch:!0,treeNodeFilterProp:"title"})}),t(ue,{level:5,children:"Th\xF4ng tin h\u1ECDc v\u1EA5n"}),t(x.Item,{...r.education_level,children:t(k,{options:b,block:!0,placeholder:"Ch\u1ECDn tr\xECnh \u0111\u1ED9 v\u0103n ho\xE1",allowClear:!0})}),t(x.Item,{...r.qualification,children:t(k,{options:p,block:!0,placeholder:"Ch\u1ECDn tr\xECnh \u0111\u1ED9 chuy\xEAn m\xF4n",allowClear:!0})}),t(x.Item,{...r.it_level,children:t(k,{options:_,block:!0,placeholder:"Ch\u1ECDn tr\xECnh \u0111\u1ED9 tin h\u1ECDc",allowClear:!0})}),t(x.Item,{...r.political_theory_level,children:t(k,{options:m,block:!0,placeholder:"Ch\u1ECDn l\xFD lu\u1EADn ch\xEDnh tr\u1ECB",allowClear:!0})}),t(x.Item,{...r.foreign_language_level,children:t(k,{options:I,block:!0,placeholder:"Ch\u1ECDn tr\xECnh \u0111\u1ED9 ngo\u1EA1i ng\u1EEF",allowClear:!0})})]})}ee.displayName=he;ee.formName=he;const Te=c.exports.forwardRef(({onChange:i},e)=>{const[n,a]=c.exports.useState({}),[o,d]=c.exports.useState(!1),[v,y]=c.exports.useState(0),b=p=>{y(p),p?(P.toggleGlobalLoading(),W.apiCall(`${G.crud}${p}`).then(_=>{let I={..._};a(I),d(!0)}).finally(()=>P.toggleGlobalLoading(!1))):(a({}),d(!0))};return c.exports.useImperativeHandle(e,()=>({loadData:b})),t(Se,{destroyOnClose:!0,keyboard:!1,maskClosable:!1,open:o,okButtonProps:{form:ee.formName,key:"submit",htmlType:"submit"},okText:u.exports.t`Save`,onCancel:()=>d(!1),cancelText:u.exports.t`Cancel`,width:800,title:t("span",{style:{fontWeight:700,lineHeight:1.75},children:P.getDialogTitle(v,me)}),children:t(ee,{data:n,onChange:(p,_)=>{d(!1),i(p,_)}})})});Te.displayName="UnionMemberDialog";const yt=Te,Y="member",{Title:Ct}=H;function St(){const i=c.exports.useRef(),e=c.exports.useRef(),n=c.exports.useRef(),[a,o]=c.exports.useState(!0),[d,v]=c.exports.useState({page:1}),[y,b]=c.exports.useState({page:d.page,total:0,page_size:15}),[p,_]=c.exports.useState([]),I=Ye(we),m=()=>{o(!0),W.apiCall(G.crud,d).then(s=>{console.log(s),b(h=>({page:d.page,total:s.count,page_size:s.page_size})),_(s.items),I(s.extra.options)}).finally(()=>{o(!1)})},D=s=>{g({search:s,page:1})},g=(s={})=>{v(h=>({...h,...s}))};c.exports.useEffect(()=>{m()},[d]);const C=s=>{!window.confirm(me.deleteOne)||(P.toggleGlobalLoading(!0),W.apiCall(`${G.crud}${s}`,{},"delete").then(()=>{_([...p.filter(N=>N.id!==s)])}).finally(()=>P.toggleGlobalLoading(!1)))},z=(s,h)=>{m()},j=[{key:"index",title:"STT",dataIndex:"index",width:60},{key:"full_name",title:l.full_name,dataIndex:"full_name",width:150,render:(s,h)=>t("a",{href:"#",onClick:()=>{n.current.loadData(h.id)},children:s})},{key:"email",title:l.email,dataIndex:"email",width:220},{key:"position",title:l.position,dataIndex:"position",width:120},{key:"mobile",title:l.mobile,dataIndex:"mobile",width:150},{key:"gender",title:l.gender,dataIndex:"gender",width:90},{key:"organization",title:l.organization,dataIndex:"organization"},{key:"action",title:"",fixed:"right",render:(s,h)=>S("div",{className:"flex-space",children:[t(re,{pem_group:Y,pem:"change",children:t(it,{onClick:()=>r(h.id)})}),t(re,{pem_group:Y,pem:"delete",children:t(nt,{onClick:()=>C(h.id)})})]}),width:120}],r=(s=null)=>{e.current.loadData(s)};return t(Ce,{children:S(dt,{title:t(()=>S(Ze,{size:12,children:[t(Ct,{level:5,style:{marginBottom:0},children:me.heading}),t(re,{pem_group:Y,pem:"add",children:t(at,{onClick:()=>r()})})]}),{}),extra:t(lt,{onChange:D,placeholder:"T\xECm ki\u1EBFm \u0111o\xE0n vi\xEAn theo t\xEAn, email, s\u1ED1 \u0111i\u1EC7n tho\u1EA1i...",width:"400px"}),children:[t(ot,{columns:j,list:p,loading:a,scroll:{x:1e3},ref:i,pem:Y,paging:y,selection:!1,onChange:g}),t(yt,{onChange:z,ref:e}),t($t,{ref:n})]})})}St.displayName="UnionMember";export{St as default};
