import{r as w,b as k,A as me,aX as X,J as R,aj as yt,D as Ke,_ as te,X as bt,ag as Le,K as Je,m as Ze,l as Qe,n as ye,L as Oe,h as B,H as T,Y as et,Z as tt,$ as nt,bh as V,j as Pe,a0 as rt,W as ot,G as ee,aa as at,aH as xt,f as mt,at as ae,bn as Kt,b8 as Nt,bo as He,i as Fe}from"./index.d8d91588.js";import{L as Ct}from"./index.ec907f20.js";function be(){return be=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}return n},be.apply(this,arguments)}var kt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const St=kt;var Dt=function(o,i){return k(me,{...o,ref:i,icon:St})};const Et=w.exports.forwardRef(Dt);var $t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const wt=$t;var Ot=function(o,i){return k(me,{...o,ref:i,icon:wt})};const Pt=w.exports.forwardRef(Ot);var Tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const Lt=Tt;var It=function(o,i){return k(me,{...o,ref:i,icon:Lt})};const Mt=w.exports.forwardRef(It);var Rt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const At=Rt;var _t=function(o,i){return k(me,{...o,ref:i,icon:At})};const Ht=w.exports.forwardRef(_t);function it(n,o){var i=new Set;return n.forEach(function(e){o.has(e)||i.add(e)}),i}function Ft(n){var o=n||{},i=o.disabled,e=o.disableCheckbox,d=o.checkable;return!!(i||e)||d===!1}function Bt(n,o,i,e){for(var d=new Set(n),l=new Set,v=0;v<=i;v+=1){var t=o.get(v)||new Set;t.forEach(function(c){var u=c.key,f=c.node,h=c.children,g=h===void 0?[]:h;d.has(u)&&!e(f)&&g.filter(function(y){return!e(y.node)}).forEach(function(y){d.add(y.key)})})}for(var r=new Set,a=i;a>=0;a-=1){var s=o.get(a)||new Set;s.forEach(function(c){var u=c.parent,f=c.node;if(!(e(f)||!c.parent||r.has(c.parent.key))){if(e(c.parent.node)){r.add(u.key);return}var h=!0,g=!1;(u.children||[]).filter(function(y){return!e(y.node)}).forEach(function(y){var p=y.key,b=d.has(p);h&&!b&&(h=!1),!g&&(b||l.has(p))&&(g=!0)}),h&&d.add(u.key),g&&l.add(u.key),r.add(u.key)}})}return{checkedKeys:Array.from(d),halfCheckedKeys:Array.from(it(l,d))}}function jt(n,o,i,e,d){for(var l=new Set(n),v=new Set(o),t=0;t<=e;t+=1){var r=i.get(t)||new Set;r.forEach(function(u){var f=u.key,h=u.node,g=u.children,y=g===void 0?[]:g;!l.has(f)&&!v.has(f)&&!d(h)&&y.filter(function(p){return!d(p.node)}).forEach(function(p){l.delete(p.key)})})}v=new Set;for(var a=new Set,s=e;s>=0;s-=1){var c=i.get(s)||new Set;c.forEach(function(u){var f=u.parent,h=u.node;if(!(d(h)||!u.parent||a.has(u.parent.key))){if(d(u.parent.node)){a.add(f.key);return}var g=!0,y=!1;(f.children||[]).filter(function(p){return!d(p.node)}).forEach(function(p){var b=p.key,x=l.has(b);g&&!x&&(g=!1),!y&&(x||v.has(b))&&(y=!0)}),g||l.delete(f.key),y&&v.add(f.key),a.add(f.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(it(v,l))}}function Ee(n,o,i,e){var d=[],l;e?l=e:l=Ft;var v=new Set(n.filter(function(s){var c=!!i[s];return c||d.push(s),c})),t=new Map,r=0;Object.keys(i).forEach(function(s){var c=i[s],u=c.level,f=t.get(u);f||(f=new Set,t.set(u,f)),f.add(c),r=Math.max(r,u)}),X(!d.length,"Tree missing follow keys: ".concat(d.slice(0,100).map(function(s){return"'".concat(s,"'")}).join(", ")));var a;return o===!0?a=Bt(v,t,r,l):a=jt(v,o.halfCheckedKeys,t,r,l),a}var zt=["children"];function dt(n,o){return"".concat(n,"-").concat(o)}function Gt(n){return n&&n.type&&n.type.isTreeNode}function fe(n,o){return n!=null?n:o}function xe(n){var o=n||{},i=o.title,e=o._title,d=o.key,l=o.children,v=i||"title";return{title:v,_title:e||[v],key:d||"key",children:l||"children"}}function Wt(n){function o(i){var e=yt(i);return e.map(function(d){if(!Gt(d))return X(!d,"Tree/TreeNode can only accept TreeNode as children."),null;var l=d.key,v=d.props,t=v.children,r=Ke(v,zt),a=R({key:l},r),s=o(t);return s.length&&(a.children=s),a}).filter(function(d){return d})}return o(n)}function $e(n,o,i){var e=xe(i),d=e._title,l=e.key,v=e.children,t=new Set(o===!0?[]:o),r=[];function a(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return s.map(function(u,f){for(var h=dt(c?c.pos:"0",f),g=fe(u[l],h),y,p=0;p<d.length;p+=1){var b=d[p];if(u[b]!==void 0){y=u[b];break}}var x=R(R({},bt(u,[].concat(te(d),[l,v]))),{},{title:y,key:g,parent:c,pos:h,children:null,data:u,isStart:[].concat(te(c?c.isStart:[]),[f===0]),isEnd:[].concat(te(c?c.isEnd:[]),[f===s.length-1])});return r.push(x),o===!0||t.has(g)?x.children=a(u[v]||[],x):x.children=[],x})}return a(n),r}function Ut(n,o,i){var e={};Le(i)==="object"?e=i:e={externalGetKey:i},e=e||{};var d=e,l=d.childrenPropName,v=d.externalGetKey,t=d.fieldNames,r=xe(t),a=r.key,s=r.children,c=l||s,u;v?typeof v=="string"?u=function(g){return g[v]}:typeof v=="function"&&(u=function(g){return v(g)}):u=function(g,y){return fe(g[a],y)};function f(h,g,y,p){var b=h?h[c]:n,x=h?dt(y.pos,g):"0",m=h?[].concat(te(p),[h]):[];if(h){var K=u(h,x),C={node:h,index:g,pos:x,key:K,parentPos:y.node?y.pos:null,level:y.level+1,nodes:m};o(C)}b&&b.forEach(function(D,S){f(D,S,{node:h,pos:x,level:y?y.level+1:-1},m)})}f(null)}function qt(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.initWrapper,e=o.processEntity,d=o.onProcessFinished,l=o.externalGetKey,v=o.childrenPropName,t=o.fieldNames,r=arguments.length>2?arguments[2]:void 0,a=l||r,s={},c={},u={posEntities:s,keyEntities:c};return i&&(u=i(u)||u),Ut(n,function(f){var h=f.node,g=f.index,y=f.pos,p=f.key,b=f.parentPos,x=f.level,m=f.nodes,K={node:h,nodes:m,index:g,key:p,pos:y,level:x},C=fe(p,y);s[y]=K,c[C]=K,K.parent=s[b],K.parent&&(K.parent.children=K.parent.children||[],K.parent.children.push(K)),e&&e(K,u)},{externalGetKey:a,childrenPropName:v,fieldNames:t}),d&&d(u),u}function ue(n,o){var i=o.expandedKeys,e=o.selectedKeys,d=o.loadedKeys,l=o.loadingKeys,v=o.checkedKeys,t=o.halfCheckedKeys,r=o.dragOverNodeKey,a=o.dropPosition,s=o.keyEntities,c=s[n],u={eventKey:n,expanded:i.indexOf(n)!==-1,selected:e.indexOf(n)!==-1,loaded:d.indexOf(n)!==-1,loading:l.indexOf(n)!==-1,checked:v.indexOf(n)!==-1,halfChecked:t.indexOf(n)!==-1,pos:String(c?c.pos:""),dragOver:r===n&&a===0,dragOverGapTop:r===n&&a===-1,dragOverGapBottom:r===n&&a===1};return u}function I(n){var o=n.data,i=n.expanded,e=n.selected,d=n.checked,l=n.loaded,v=n.loading,t=n.halfChecked,r=n.dragOver,a=n.dragOverGapTop,s=n.dragOverGapBottom,c=n.pos,u=n.active,f=n.eventKey,h=R(R({},o),{},{expanded:i,selected:e,checked:d,loaded:l,loading:v,halfChecked:t,dragOver:r,dragOverGapTop:a,dragOverGapBottom:s,pos:c,active:u,key:f});return"props"in h||Object.defineProperty(h,"props",{get:function(){return X(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),h}const Vt=new Je("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),Xt=n=>{const{checkboxCls:o}=n,i=`${o}-wrapper`;return[{[`${o}-group`]:Object.assign(Object.assign({},ye(n)),{display:"inline-flex",flexWrap:"wrap",columnGap:n.marginXS,[`> ${n.antCls}-row`]:{flex:1}}),[i]:Object.assign(Object.assign({},ye(n)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${i}`]:{marginInlineStart:0},[`&${i}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[o]:Object.assign(Object.assign({},ye(n)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center",[`${o}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${o}-inner`]:Object.assign({},Oe(n))},[`${o}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:n.checkboxSize,height:n.checkboxSize,direction:"ltr",backgroundColor:n.colorBgContainer,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,borderCollapse:"separate",transition:`all ${n.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:n.checkboxSize/14*5,height:n.checkboxSize/14*8,border:`${n.lineWidthBold}px solid ${n.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${n.motionDurationFast} ${n.motionEaseInBack}, opacity ${n.motionDurationFast}`}},"& + span":{paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS}})},{[o]:{"&-indeterminate":{[`${o}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:n.fontSizeLG/2,height:n.fontSizeLG/2,backgroundColor:n.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${i}:hover ${o}:after`]:{visibility:"visible"},[`
        ${i}:not(${i}-disabled),
        ${o}:not(${o}-disabled)
      `]:{[`&:hover ${o}-inner`]:{borderColor:n.colorPrimary}},[`${i}:not(${i}-disabled)`]:{[`&:hover ${o}-checked:not(${o}-disabled) ${o}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${o}-checked:not(${o}-disabled):after`]:{borderColor:n.colorPrimaryHover}}},{[`${o}-checked`]:{[`${o}-inner`]:{backgroundColor:n.colorPrimary,borderColor:n.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${n.motionDurationMid} ${n.motionEaseOutBack} ${n.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:n.borderRadiusSM,visibility:"hidden",border:`${n.lineWidthBold}px solid ${n.colorPrimary}`,animationName:Vt,animationDuration:n.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${n.motionDurationSlow}`}},[`
        ${i}-checked:not(${i}-disabled),
        ${o}-checked:not(${o}-disabled)
      `]:{[`&:hover ${o}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${o}:after`]:{borderColor:n.colorPrimaryHover}}},{[`${i}-disabled`]:{cursor:"not-allowed"},[`${o}-disabled`]:{[`&, ${o}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${o}-inner`]:{background:n.colorBgContainerDisabled,borderColor:n.colorBorder,"&:after":{borderColor:n.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:n.colorTextDisabled},[`&${o}-indeterminate ${o}-inner::after`]:{background:n.colorTextDisabled}}}]};function st(n,o){const i=Ze(o,{checkboxCls:`.${n}`,checkboxSize:o.controlInteractiveSize});return[Xt(i)]}const kn=Qe("Checkbox",(n,o)=>{let{prefixCls:i}=o;return[st(i,n)]});var Ie=w.exports.createContext(null),Yt=function(o){for(var i=o.prefixCls,e=o.level,d=o.isStart,l=o.isEnd,v="".concat(i,"-indent-unit"),t=[],r=0;r<e;r+=1){var a;t.push(k("span",{className:B(v,(a={},T(a,"".concat(v,"-start"),d[r]),T(a,"".concat(v,"-end"),l[r]),a))},r))}return k("span",{"aria-hidden":"true",className:"".concat(i,"-indent"),children:t})};const Jt=w.exports.memo(Yt);var Zt=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Be="open",je="close",Qt="---",en=function(n){et(i,n);var o=tt(i);function i(){var e;nt(this,i);for(var d=arguments.length,l=new Array(d),v=0;v<d;v++)l[v]=arguments[v];return e=o.call.apply(o,[this].concat(l)),e.state={dragNodeHighlight:!1},e.selectHandle=void 0,e.cacheIndent=void 0,e.onSelectorClick=function(t){var r=e.props.context.onNodeClick;r(t,I(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){var r=e.props.context.onNodeDoubleClick;r(t,I(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var r=e.props.context.onNodeSelect;t.preventDefault(),r(t,I(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var r=e.props,a=r.disableCheckbox,s=r.checked,c=e.props.context.onNodeCheck;if(!(!e.isCheckable()||a)){t.preventDefault();var u=!s;c(t,I(e.props),u)}}},e.onMouseEnter=function(t){var r=e.props.context.onNodeMouseEnter;r(t,I(e.props))},e.onMouseLeave=function(t){var r=e.props.context.onNodeMouseLeave;r(t,I(e.props))},e.onContextMenu=function(t){var r=e.props.context.onNodeContextMenu;r(t,I(e.props))},e.onDragStart=function(t){var r=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),r(t,V(e));try{t.dataTransfer.setData("text/plain","")}catch{}},e.onDragEnter=function(t){var r=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),r(t,V(e))},e.onDragOver=function(t){var r=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),r(t,V(e))},e.onDragLeave=function(t){var r=e.props.context.onNodeDragLeave;t.stopPropagation(),r(t,V(e))},e.onDragEnd=function(t){var r=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(t,V(e))},e.onDrop=function(t){var r=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(t,V(e))},e.onExpand=function(t){var r=e.props,a=r.loading,s=r.context.onNodeExpand;a||s(t,I(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?Be:je},e.hasChildren=function(){var t=e.props.eventKey,r=e.props.context.keyEntities,a=r[t]||{},s=a.children;return!!(s||[]).length},e.isLeaf=function(){var t=e.props,r=t.isLeaf,a=t.loaded,s=e.props.context.loadData,c=e.hasChildren();return r===!1?!1:r||!s&&!c||s&&a&&!c},e.isDisabled=function(){var t=e.props.disabled,r=e.props.context.disabled;return!!(r||t)},e.isCheckable=function(){var t=e.props.checkable,r=e.props.context.checkable;return!r||t===!1?!1:r},e.syncLoadData=function(t){var r=t.expanded,a=t.loading,s=t.loaded,c=e.props.context,u=c.loadData,f=c.onNodeLoad;a||u&&r&&!e.isLeaf()&&!e.hasChildren()&&!s&&f(I(e.props))},e.isDraggable=function(){var t=e.props,r=t.data,a=t.context.draggable;return!!(a&&(!a.nodeDraggable||a.nodeDraggable(r)))},e.renderDragHandler=function(){var t=e.props.context,r=t.draggable,a=t.prefixCls;return r!=null&&r.icon?k("span",{className:"".concat(a,"-draggable-icon"),children:r.icon}):null},e.renderSwitcherIconDom=function(t){var r=e.props.switcherIcon,a=e.props.context.switcherIcon,s=r||a;return typeof s=="function"?s(R(R({},e.props),{},{isLeaf:t})):s},e.renderSwitcher=function(){var t=e.props.expanded,r=e.props.context.prefixCls;if(e.isLeaf()){var a=e.renderSwitcherIconDom(!0);return a!==!1?k("span",{className:B("".concat(r,"-switcher"),"".concat(r,"-switcher-noop")),children:a}):null}var s=B("".concat(r,"-switcher"),"".concat(r,"-switcher_").concat(t?Be:je)),c=e.renderSwitcherIconDom(!1);return c!==!1?k("span",{onClick:e.onExpand,className:s,children:c}):null},e.renderCheckbox=function(){var t=e.props,r=t.checked,a=t.halfChecked,s=t.disableCheckbox,c=e.props.context.prefixCls,u=e.isDisabled(),f=e.isCheckable();if(!f)return null;var h=typeof f!="boolean"?f:null;return k("span",{className:B("".concat(c,"-checkbox"),r&&"".concat(c,"-checkbox-checked"),!r&&a&&"".concat(c,"-checkbox-indeterminate"),(u||s)&&"".concat(c,"-checkbox-disabled")),onClick:e.onCheck,children:h})},e.renderIcon=function(){var t=e.props.loading,r=e.props.context.prefixCls;return k("span",{className:B("".concat(r,"-iconEle"),"".concat(r,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(r,"-icon_loading"))})},e.renderSelector=function(){var t=e.state.dragNodeHighlight,r=e.props,a=r.title,s=a===void 0?Qt:a,c=r.selected,u=r.icon,f=r.loading,h=r.data,g=e.props.context,y=g.prefixCls,p=g.showIcon,b=g.icon,x=g.loadData,m=g.titleRender,K=e.isDisabled(),C="".concat(y,"-node-content-wrapper"),D;if(p){var S=u||b;D=S?k("span",{className:B("".concat(y,"-iconEle"),"".concat(y,"-icon__customize")),children:typeof S=="function"?S(e.props):S}):e.renderIcon()}else x&&f&&(D=e.renderIcon());var N;typeof s=="function"?N=s(h):m?N=m(h):N=s;var E=k("span",{className:"".concat(y,"-title"),children:N});return Pe("span",{ref:e.setSelectHandle,title:typeof s=="string"?s:"",className:B("".concat(C),"".concat(C,"-").concat(e.getNodeState()||"normal"),!K&&(c||t)&&"".concat(y,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick,children:[D,E,e.renderDropIndicator()]})},e.renderDropIndicator=function(){var t=e.props,r=t.disabled,a=t.eventKey,s=e.props.context,c=s.draggable,u=s.dropLevelOffset,f=s.dropPosition,h=s.prefixCls,g=s.indent,y=s.dropIndicatorRender,p=s.dragOverNodeKey,b=s.direction,x=!!c,m=!r&&x&&p===a,K=g!=null?g:e.cacheIndent;return e.cacheIndent=g,m?y({dropPosition:f,dropLevelOffset:u,indent:K,prefixCls:h,direction:b}):null},e}return rt(i,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var d=this.props.selectable,l=this.props.context.selectable;return typeof d=="boolean"?d:l}},{key:"render",value:function(){var d,l=this.props,v=l.eventKey,t=l.className,r=l.style,a=l.dragOver,s=l.dragOverGapTop,c=l.dragOverGapBottom,u=l.isLeaf,f=l.isStart,h=l.isEnd,g=l.expanded,y=l.selected,p=l.checked,b=l.halfChecked,x=l.loading,m=l.domRef,K=l.active;l.data;var C=l.onMouseMove,D=l.selectable,S=Ke(l,Zt),N=this.props.context,E=N.prefixCls,O=N.filterTreeNode,$=N.keyEntities,P=N.dropContainerKey,M=N.dropTargetKey,A=N.draggingNodeKey,_=this.isDisabled(),H=ot(S,{aria:!0,data:!0}),j=$[v]||{},ie=j.level,de=h[h.length-1],F=this.isDraggable(),z=!_&&F,Y=A===v,se=D!==void 0?{"aria-selected":!!D}:void 0;return Pe("div",{ref:m,className:B(t,"".concat(E,"-treenode"),(d={},T(d,"".concat(E,"-treenode-disabled"),_),T(d,"".concat(E,"-treenode-switcher-").concat(g?"open":"close"),!u),T(d,"".concat(E,"-treenode-checkbox-checked"),p),T(d,"".concat(E,"-treenode-checkbox-indeterminate"),b),T(d,"".concat(E,"-treenode-selected"),y),T(d,"".concat(E,"-treenode-loading"),x),T(d,"".concat(E,"-treenode-active"),K),T(d,"".concat(E,"-treenode-leaf-last"),de),T(d,"".concat(E,"-treenode-draggable"),F),T(d,"dragging",Y),T(d,"drop-target",M===v),T(d,"drop-container",P===v),T(d,"drag-over",!_&&a),T(d,"drag-over-gap-top",!_&&s),T(d,"drag-over-gap-bottom",!_&&c),T(d,"filter-node",O&&O(I(this.props))),d)),style:r,draggable:z,"aria-grabbed":Y,onDragStart:z?this.onDragStart:void 0,onDragEnter:F?this.onDragEnter:void 0,onDragOver:F?this.onDragOver:void 0,onDragLeave:F?this.onDragLeave:void 0,onDrop:F?this.onDrop:void 0,onDragEnd:F?this.onDragEnd:void 0,onMouseMove:C,...se,...H,children:[k(Jt,{prefixCls:E,level:ie,isStart:f,isEnd:h}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector()]})}}]),i}(w.exports.Component),pe=function(o){return k(Ie.Consumer,{children:function(i){return k(en,{...o,context:i})}})};pe.displayName="TreeNode";pe.isTreeNode=1;function G(n,o){if(!n)return[];var i=n.slice(),e=i.indexOf(o);return e>=0&&i.splice(e,1),i}function q(n,o){var i=(n||[]).slice();return i.indexOf(o)===-1&&i.push(o),i}function Me(n){return n.split("-")}function tn(n,o){var i=[],e=o[n];function d(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l.forEach(function(v){var t=v.key,r=v.children;i.push(t),d(r)})}return d(e.children),i}function nn(n){if(n.parent){var o=Me(n.pos);return Number(o[o.length-1])===n.parent.children.length-1}return!1}function rn(n){var o=Me(n.pos);return Number(o[o.length-1])===0}function ze(n,o,i,e,d,l,v,t,r,a){var s,c=n.clientX,u=n.clientY,f=n.target.getBoundingClientRect(),h=f.top,g=f.height,y=(a==="rtl"?-1:1)*(((d==null?void 0:d.x)||0)-c),p=(y-12)/e,b=t[i.props.eventKey];if(u<h+g/2){var x=v.findIndex(function(A){return A.key===b.key}),m=x<=0?0:x-1,K=v[m].key;b=t[K]}var C=b.key,D=b,S=b.key,N=0,E=0;if(!r.includes(C))for(var O=0;O<p&&nn(b);O+=1)b=b.parent,E+=1;var $=o.props.data,P=b.node,M=!0;return rn(b)&&b.level===0&&u<h+g/2&&l({dragNode:$,dropNode:P,dropPosition:-1})&&b.key===i.props.eventKey?N=-1:(D.children||[]).length&&r.includes(S)?l({dragNode:$,dropNode:P,dropPosition:0})?N=0:M=!1:E===0?p>-1.5?l({dragNode:$,dropNode:P,dropPosition:1})?N=1:M=!1:l({dragNode:$,dropNode:P,dropPosition:0})?N=0:l({dragNode:$,dropNode:P,dropPosition:1})?N=1:M=!1:l({dragNode:$,dropNode:P,dropPosition:1})?N=1:M=!1,{dropPosition:N,dropLevelOffset:E,dropTargetKey:b.key,dropTargetPos:b.pos,dragOverNodeKey:S,dropContainerKey:N===0?null:((s=b.parent)===null||s===void 0?void 0:s.key)||null,dropAllowed:M}}function Ge(n,o){if(!!n){var i=o.multiple;return i?n.slice():n.length?[n[0]]:n}}function we(n){if(!n)return null;var o;if(Array.isArray(n))o={checkedKeys:n,halfCheckedKeys:void 0};else if(Le(n)==="object")o={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return X(!1,"`checkedKeys` is not an array or an object"),null;return o}function We(n,o){var i=new Set;function e(d){if(!i.has(d)){var l=o[d];if(!!l){i.add(d);var v=l.parent,t=l.node;t.disabled||v&&e(v.key)}}}return(n||[]).forEach(function(d){e(d)}),te(i)}function lt(n){if(n==null)throw new TypeError("Cannot destructure "+n)}function on(n,o){var i=w.exports.useState(!1),e=ee(i,2),d=e[0],l=e[1];w.exports.useLayoutEffect(function(){if(d)return n(),function(){o()}},[d]),w.exports.useLayoutEffect(function(){return l(!0),function(){l(!1)}},[])}var an=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],ct=function(o,i){var e=o.className,d=o.style,l=o.motion,v=o.motionNodes,t=o.motionType,r=o.onMotionStart,a=o.onMotionEnd,s=o.active,c=o.treeNodeRequiredProps,u=Ke(o,an),f=w.exports.useState(!0),h=ee(f,2),g=h[0],y=h[1],p=w.exports.useContext(Ie),b=p.prefixCls,x=v&&t!=="hide";at(function(){v&&x!==g&&y(x)},[v]);var m=function(){v&&r()},K=w.exports.useRef(!1),C=function(){v&&!K.current&&(K.current=!0,a())};on(m,C);var D=function(N){x===N&&C()};return v?k(xt,{ref:i,visible:g,...l,motionAppear:t==="show",onVisibleChanged:D,children:function(S,N){var E=S.className,O=S.style;return k("div",{ref:N,className:B("".concat(b,"-treenode-motion"),E),style:O,children:v.map(function($){var P=be({},(lt($.data),$.data)),M=$.title,A=$.key,_=$.isStart,H=$.isEnd;delete P.children;var j=ue(A,c);return w.exports.createElement(pe,{...P,...j,title:M,active:s,data:$.data,key:A,isStart:_,isEnd:H})})})}}):k(pe,{domRef:i,className:e,style:d,...u,active:s})};ct.displayName="MotionTreeNode";var dn=w.exports.forwardRef(ct);function sn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=n.length,e=o.length;if(Math.abs(i-e)!==1)return{add:!1,key:null};function d(l,v){var t=new Map;l.forEach(function(a){t.set(a,!0)});var r=v.filter(function(a){return!t.has(a)});return r.length===1?r[0]:null}return i<e?{add:!0,key:d(n,o)}:{add:!1,key:d(o,n)}}function Ue(n,o,i){var e=n.findIndex(function(t){return t.key===i}),d=n[e+1],l=o.findIndex(function(t){return t.key===i});if(d){var v=o.findIndex(function(t){return t.key===d.key});return o.slice(l+1,v)}return o.slice(l+1)}var ln=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],qe={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},cn=function(){},ne="RC_TREE_MOTION_".concat(Math.random()),Te={key:ne},ut={key:ne,level:0,index:0,pos:"0",node:Te,nodes:[Te]},Ve={parent:null,children:[],pos:ut.pos,data:Te,title:null,key:ne,isStart:[],isEnd:[]};function Xe(n,o,i,e){return o===!1||!i?n:n.slice(0,Math.ceil(i/e)+1)}function Ye(n){var o=n.key,i=n.pos;return fe(o,i)}function un(n){for(var o=String(n.data.key),i=n;i.parent;)i=i.parent,o="".concat(i.data.key," > ").concat(o);return o}var pt=w.exports.forwardRef(function(n,o){var i=n.prefixCls,e=n.data;n.selectable,n.checkable;var d=n.expandedKeys,l=n.selectedKeys,v=n.checkedKeys,t=n.loadedKeys,r=n.loadingKeys,a=n.halfCheckedKeys,s=n.keyEntities,c=n.disabled,u=n.dragging,f=n.dragOverNodeKey,h=n.dropPosition,g=n.motion,y=n.height,p=n.itemHeight,b=n.virtual,x=n.focusable,m=n.activeItem,K=n.focused,C=n.tabIndex,D=n.onKeyDown,S=n.onFocus,N=n.onBlur,E=n.onActiveChange,O=n.onListChangeStart,$=n.onListChangeEnd,P=Ke(n,ln),M=w.exports.useRef(null),A=w.exports.useRef(null);w.exports.useImperativeHandle(o,function(){return{scrollTo:function(U){M.current.scrollTo(U)},getIndentWidth:function(){return A.current.offsetWidth}}});var _=w.exports.useState(d),H=ee(_,2),j=H[0],ie=H[1],de=w.exports.useState(e),F=ee(de,2),z=F[0],Y=F[1],se=w.exports.useState(e),ve=ee(se,2),Ne=ve[0],re=ve[1],Ce=w.exports.useState([]),he=ee(Ce,2),ke=he[0],W=he[1],vt=w.exports.useState(null),Re=ee(vt,2),ht=Re[0],Se=Re[1],Ae=w.exports.useRef(e);Ae.current=e;function De(){var L=Ae.current;Y(L),re(L),W([]),Se(null),$()}at(function(){ie(d);var L=sn(j,d);if(L.key!==null)if(L.add){var U=z.findIndex(function(le){var ce=le.key;return ce===L.key}),J=Xe(Ue(z,e,L.key),b,y,p),oe=z.slice();oe.splice(U+1,0,Ve),re(oe),W(J),Se("show")}else{var Z=e.findIndex(function(le){var ce=le.key;return ce===L.key}),Q=Xe(Ue(e,z,L.key),b,y,p),ge=e.slice();ge.splice(Z+1,0,Ve),re(ge),W(Q),Se("hide")}else z!==e&&(Y(e),re(e))},[d,e]),w.exports.useEffect(function(){u||De()},[u]);var gt=g?Ne:e,_e={expandedKeys:d,selectedKeys:l,loadedKeys:t,loadingKeys:r,checkedKeys:v,halfCheckedKeys:a,dragOverNodeKey:f,dropPosition:h,keyEntities:s};return Pe(mt,{children:[K&&m&&k("span",{style:qe,"aria-live":"assertive",children:un(m)}),k("div",{children:k("input",{style:qe,disabled:x===!1||c,tabIndex:x!==!1?C:null,onKeyDown:D,onFocus:S,onBlur:N,value:"",onChange:cn,"aria-label":"for screen reader"})}),k("div",{className:"".concat(i,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0},children:k("div",{className:"".concat(i,"-indent"),children:k("div",{ref:A,className:"".concat(i,"-indent-unit")})})}),k(Ct,{...P,data:gt,itemKey:Ye,height:y,fullHeight:!1,virtual:b,itemHeight:p,prefixCls:"".concat(i,"-list"),ref:M,onVisibleChange:function(U,J){var oe=new Set(U),Z=J.filter(function(Q){return!oe.has(Q)});Z.some(function(Q){return Ye(Q)===ne})&&De()},children:function(L){var U=L.pos,J=be({},(lt(L.data),L.data)),oe=L.title,Z=L.key,Q=L.isStart,ge=L.isEnd,le=fe(Z,U);delete J.key,delete J.children;var ce=ue(le,_e);return k(dn,{...J,...ce,title:oe,active:!!m&&Z===m.key,pos:U,data:L.data,isStart:Q,isEnd:ge,motion:g,motionNodes:Z===ne?ke:null,motionType:ht,onMotionStart:O,onMotionEnd:De,treeNodeRequiredProps:_e,onMouseMove:function(){E(null)}})}})]})});pt.displayName="NodeList";function pn(n){var o=n.dropPosition,i=n.dropLevelOffset,e=n.indent,d={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(o){case-1:d.top=0,d.left=-i*e;break;case 1:d.bottom=0,d.left=-i*e;break;case 0:d.bottom=0,d.left=e;break}return k("div",{style:d})}var fn=10,ft=function(n){et(i,n);var o=tt(i);function i(){var e;nt(this,i);for(var d=arguments.length,l=new Array(d),v=0;v<d;v++)l[v]=arguments[v];return e=o.call.apply(o,[this].concat(l)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:xe()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=w.exports.createRef(),e.onNodeDragStart=function(t,r){var a=e.state,s=a.expandedKeys,c=a.keyEntities,u=e.props.onDragStart,f=r.props.eventKey;e.dragNode=r,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var h=G(s,f);e.setState({draggingNodeKey:f,dragChildrenKeys:tn(f,c),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(h),window.addEventListener("dragend",e.onWindowDragEnd),u==null||u({event:t,node:I(r.props)})},e.onNodeDragEnter=function(t,r){var a=e.state,s=a.expandedKeys,c=a.keyEntities,u=a.dragChildrenKeys,f=a.flattenNodes,h=a.indent,g=e.props,y=g.onDragEnter,p=g.onExpand,b=g.allowDrop,x=g.direction,m=r.props,K=m.pos,C=m.eventKey,D=V(e),S=D.dragNode;if(e.currentMouseOverDroppableNodeKey!==C&&(e.currentMouseOverDroppableNodeKey=C),!S){e.resetDragState();return}var N=ze(t,S,r,h,e.dragStartMousePosition,b,f,c,s,x),E=N.dropPosition,O=N.dropLevelOffset,$=N.dropTargetKey,P=N.dropContainerKey,M=N.dropTargetPos,A=N.dropAllowed,_=N.dragOverNodeKey;if(u.indexOf($)!==-1||!A){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(H){clearTimeout(e.delayedDragEnterLogic[H])}),S.props.eventKey!==r.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[K]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var H=te(s),j=c[r.props.eventKey];j&&(j.children||[]).length&&(H=q(s,r.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(H),p==null||p(H,{node:I(r.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),S.props.eventKey===$&&O===0){e.resetDragState();return}e.setState({dragOverNodeKey:_,dropPosition:E,dropLevelOffset:O,dropTargetKey:$,dropContainerKey:P,dropTargetPos:M,dropAllowed:A}),y==null||y({event:t,node:I(r.props),expandedKeys:s})},e.onNodeDragOver=function(t,r){var a=e.state,s=a.dragChildrenKeys,c=a.flattenNodes,u=a.keyEntities,f=a.expandedKeys,h=a.indent,g=e.props,y=g.onDragOver,p=g.allowDrop,b=g.direction,x=V(e),m=x.dragNode;if(!!m){var K=ze(t,m,r,h,e.dragStartMousePosition,p,c,u,f,b),C=K.dropPosition,D=K.dropLevelOffset,S=K.dropTargetKey,N=K.dropContainerKey,E=K.dropAllowed,O=K.dropTargetPos,$=K.dragOverNodeKey;s.indexOf(S)!==-1||!E||(m.props.eventKey===S&&D===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():C===e.state.dropPosition&&D===e.state.dropLevelOffset&&S===e.state.dropTargetKey&&N===e.state.dropContainerKey&&O===e.state.dropTargetPos&&E===e.state.dropAllowed&&$===e.state.dragOverNodeKey||e.setState({dropPosition:C,dropLevelOffset:D,dropTargetKey:S,dropContainerKey:N,dropTargetPos:O,dropAllowed:E,dragOverNodeKey:$}),y==null||y({event:t,node:I(r.props)}))}},e.onNodeDragLeave=function(t,r){e.currentMouseOverDroppableNodeKey===r.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var a=e.props.onDragLeave;a==null||a({event:t,node:I(r.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,r){var a=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),a==null||a({event:t,node:I(r.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(t,r){var a,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=e.state,u=c.dragChildrenKeys,f=c.dropPosition,h=c.dropTargetKey,g=c.dropTargetPos,y=c.dropAllowed;if(!!y){var p=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),h!==null){var b=R(R({},ue(h,e.getTreeNodeRequiredProps())),{},{active:((a=e.getActiveItem())===null||a===void 0?void 0:a.key)===h,data:e.state.keyEntities[h].node}),x=u.indexOf(h)!==-1;X(!x,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var m=Me(g),K={event:t,node:I(b),dragNode:e.dragNode?I(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(u),dropToGap:f!==0,dropPosition:f+Number(m[m.length-1])};s||p==null||p(K),e.dragNode=null}}},e.cleanDragState=function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(t,r){var a=e.state,s=a.expandedKeys,c=a.flattenNodes,u=r.expanded,f=r.key,h=r.isLeaf;if(!(h||t.shiftKey||t.metaKey||t.ctrlKey)){var g=c.filter(function(p){return p.key===f})[0],y=I(R(R({},ue(f,e.getTreeNodeRequiredProps())),{},{data:g.data}));e.setExpandedKeys(u?G(s,f):q(s,f)),e.onNodeExpand(t,y)}},e.onNodeClick=function(t,r){var a=e.props,s=a.onClick,c=a.expandAction;c==="click"&&e.triggerExpandActionExpand(t,r),s==null||s(t,r)},e.onNodeDoubleClick=function(t,r){var a=e.props,s=a.onDoubleClick,c=a.expandAction;c==="doubleClick"&&e.triggerExpandActionExpand(t,r),s==null||s(t,r)},e.onNodeSelect=function(t,r){var a=e.state.selectedKeys,s=e.state,c=s.keyEntities,u=s.fieldNames,f=e.props,h=f.onSelect,g=f.multiple,y=r.selected,p=r[u.key],b=!y;b?g?a=q(a,p):a=[p]:a=G(a,p);var x=a.map(function(m){var K=c[m];return K?K.node:null}).filter(function(m){return m});e.setUncontrolledState({selectedKeys:a}),h==null||h(a,{event:"select",selected:b,node:r,selectedNodes:x,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,r,a){var s=e.state,c=s.keyEntities,u=s.checkedKeys,f=s.halfCheckedKeys,h=e.props,g=h.checkStrictly,y=h.onCheck,p=r.key,b,x={event:"check",node:r,checked:a,nativeEvent:t.nativeEvent};if(g){var m=a?q(u,p):G(u,p),K=G(f,p);b={checked:m,halfChecked:K},x.checkedNodes=m.map(function(O){return c[O]}).filter(function(O){return O}).map(function(O){return O.node}),e.setUncontrolledState({checkedKeys:m})}else{var C=Ee([].concat(te(u),[p]),!0,c),D=C.checkedKeys,S=C.halfCheckedKeys;if(!a){var N=new Set(D);N.delete(p);var E=Ee(Array.from(N),{checked:!1,halfCheckedKeys:S},c);D=E.checkedKeys,S=E.halfCheckedKeys}b=D,x.checkedNodes=[],x.checkedNodesPositions=[],x.halfCheckedKeys=S,D.forEach(function(O){var $=c[O];if(!!$){var P=$.node,M=$.pos;x.checkedNodes.push(P),x.checkedNodesPositions.push({node:P,pos:M})}}),e.setUncontrolledState({checkedKeys:D},!1,{halfCheckedKeys:S})}y==null||y(b,x)},e.onNodeLoad=function(t){var r=t.key,a=new Promise(function(s,c){e.setState(function(u){var f=u.loadedKeys,h=f===void 0?[]:f,g=u.loadingKeys,y=g===void 0?[]:g,p=e.props,b=p.loadData,x=p.onLoad;if(!b||h.indexOf(r)!==-1||y.indexOf(r)!==-1)return null;var m=b(t);return m.then(function(){var K=e.state.loadedKeys,C=q(K,r);x==null||x(C,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:C}),e.setState(function(D){return{loadingKeys:G(D.loadingKeys,r)}}),s()}).catch(function(K){if(e.setState(function(D){return{loadingKeys:G(D.loadingKeys,r)}}),e.loadingRetryTimes[r]=(e.loadingRetryTimes[r]||0)+1,e.loadingRetryTimes[r]>=fn){var C=e.state.loadedKeys;X(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:q(C,r)}),s()}c(K)}),{loadingKeys:q(y,r)}})});return a.catch(function(){}),a},e.onNodeMouseEnter=function(t,r){var a=e.props.onMouseEnter;a==null||a({event:t,node:r})},e.onNodeMouseLeave=function(t,r){var a=e.props.onMouseLeave;a==null||a({event:t,node:r})},e.onNodeContextMenu=function(t,r){var a=e.props.onRightClick;a&&(t.preventDefault(),a({event:t,node:r}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];t==null||t.apply(void 0,a)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];t==null||t.apply(void 0,a)},e.getTreeNodeRequiredProps=function(){var t=e.state,r=t.expandedKeys,a=t.selectedKeys,s=t.loadedKeys,c=t.loadingKeys,u=t.checkedKeys,f=t.halfCheckedKeys,h=t.dragOverNodeKey,g=t.dropPosition,y=t.keyEntities;return{expandedKeys:r||[],selectedKeys:a||[],loadedKeys:s||[],loadingKeys:c||[],checkedKeys:u||[],halfCheckedKeys:f||[],dragOverNodeKey:h,dropPosition:g,keyEntities:y}},e.setExpandedKeys=function(t){var r=e.state,a=r.treeData,s=r.fieldNames,c=$e(a,t,s);e.setUncontrolledState({expandedKeys:t,flattenNodes:c},!0)},e.onNodeExpand=function(t,r){var a=e.state.expandedKeys,s=e.state,c=s.listChanging,u=s.fieldNames,f=e.props,h=f.onExpand,g=f.loadData,y=r.expanded,p=r[u.key];if(!c){var b=a.indexOf(p),x=!y;if(X(y&&b!==-1||!y&&b===-1,"Expand state not sync with index check"),x?a=q(a,p):a=G(a,p),e.setExpandedKeys(a),h==null||h(a,{node:r,expanded:x,nativeEvent:t.nativeEvent}),x&&g){var m=e.onNodeLoad(r);m&&m.then(function(){var K=$e(e.state.treeData,a,u);e.setUncontrolledState({flattenNodes:K})}).catch(function(){var K=e.state.expandedKeys,C=G(K,p);e.setExpandedKeys(C)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(t){var r=e.state.activeKey,a=e.props.onActiveChange;r!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t}),a==null||a(t))},e.getActiveItem=function(){var t=e.state,r=t.activeKey,a=t.flattenNodes;return r===null?null:a.find(function(s){var c=s.key;return c===r})||null},e.offsetActiveKey=function(t){var r=e.state,a=r.flattenNodes,s=r.activeKey,c=a.findIndex(function(h){var g=h.key;return g===s});c===-1&&t<0&&(c=a.length),c=(c+t+a.length)%a.length;var u=a[c];if(u){var f=u.key;e.onActiveChange(f)}else e.onActiveChange(null)},e.onKeyDown=function(t){var r=e.state,a=r.activeKey,s=r.expandedKeys,c=r.checkedKeys,u=r.fieldNames,f=e.props,h=f.onKeyDown,g=f.checkable,y=f.selectable;switch(t.which){case ae.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case ae.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var p=e.getActiveItem();if(p&&p.data){var b=e.getTreeNodeRequiredProps(),x=p.data.isLeaf===!1||!!(p.data[u.children]||[]).length,m=I(R(R({},ue(a,b)),{},{data:p.data,active:!0}));switch(t.which){case ae.LEFT:{x&&s.includes(a)?e.onNodeExpand({},m):p.parent&&e.onActiveChange(p.parent.key),t.preventDefault();break}case ae.RIGHT:{x&&!s.includes(a)?e.onNodeExpand({},m):p.children&&p.children.length&&e.onActiveChange(p.children[0].key),t.preventDefault();break}case ae.ENTER:case ae.SPACE:{g&&!m.disabled&&m.checkable!==!1&&!m.disableCheckbox?e.onNodeCheck({},m,!c.includes(a)):!g&&y&&!m.disabled&&m.selectable!==!1&&e.onNodeSelect({},m);break}}}h==null||h(t)},e.setUncontrolledState=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var s=!1,c=!0,u={};Object.keys(t).forEach(function(f){if(f in e.props){c=!1;return}s=!0,u[f]=t[f]}),s&&(!r||c)&&e.setState(R(R({},u),a))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return rt(i,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var d=this.props.activeKey;d!==void 0&&d!==this.state.activeKey&&(this.setState({activeKey:d}),d!==null&&this.scrollTo({key:d}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var d,l=this.state,v=l.focused,t=l.flattenNodes,r=l.keyEntities,a=l.draggingNodeKey,s=l.activeKey,c=l.dropLevelOffset,u=l.dropContainerKey,f=l.dropTargetKey,h=l.dropPosition,g=l.dragOverNodeKey,y=l.indent,p=this.props,b=p.prefixCls,x=p.className,m=p.style,K=p.showLine,C=p.focusable,D=p.tabIndex,S=D===void 0?0:D,N=p.selectable,E=p.showIcon,O=p.icon,$=p.switcherIcon,P=p.draggable,M=p.checkable,A=p.checkStrictly,_=p.disabled,H=p.motion,j=p.loadData,ie=p.filterTreeNode,de=p.height,F=p.itemHeight,z=p.virtual,Y=p.titleRender,se=p.dropIndicatorRender,ve=p.onContextMenu,Ne=p.onScroll,re=p.direction,Ce=p.rootClassName,he=p.rootStyle,ke=ot(this.props,{aria:!0,data:!0}),W;return P&&(Le(P)==="object"?W=P:typeof P=="function"?W={nodeDraggable:P}:W={}),k(Ie.Provider,{value:{prefixCls:b,selectable:N,showIcon:E,icon:O,switcherIcon:$,draggable:W,draggingNodeKey:a,checkable:M,checkStrictly:A,disabled:_,keyEntities:r,dropLevelOffset:c,dropContainerKey:u,dropTargetKey:f,dropPosition:h,dragOverNodeKey:g,indent:y,direction:re,dropIndicatorRender:se,loadData:j,filterTreeNode:ie,titleRender:Y,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop},children:k("div",{role:"tree",className:B(b,x,Ce,(d={},T(d,"".concat(b,"-show-line"),K),T(d,"".concat(b,"-focused"),v),T(d,"".concat(b,"-active-focused"),s!==null),d)),style:he,children:k(pt,{ref:this.listRef,prefixCls:b,style:m,data:t,disabled:_,selectable:N,checkable:!!M,motion:H,dragging:a!==null,height:de,itemHeight:F,virtual:z,focusable:C,focused:v,tabIndex:S,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:ve,onScroll:Ne,...this.getTreeNodeRequiredProps(),...ke})})})}}],[{key:"getDerivedStateFromProps",value:function(d,l){var v=l.prevProps,t={prevProps:d};function r(C){return!v&&C in d||v&&v[C]!==d[C]}var a,s=l.fieldNames;if(r("fieldNames")&&(s=xe(d.fieldNames),t.fieldNames=s),r("treeData")?a=d.treeData:r("children")&&(X(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),a=Wt(d.children)),a){t.treeData=a;var c=qt(a,{fieldNames:s});t.keyEntities=R(T({},ne,ut),c.keyEntities)}var u=t.keyEntities||l.keyEntities;if(r("expandedKeys")||v&&r("autoExpandParent"))t.expandedKeys=d.autoExpandParent||!v&&d.defaultExpandParent?We(d.expandedKeys,u):d.expandedKeys;else if(!v&&d.defaultExpandAll){var f=R({},u);delete f[ne],t.expandedKeys=Object.keys(f).map(function(C){return f[C].key})}else!v&&d.defaultExpandedKeys&&(t.expandedKeys=d.autoExpandParent||d.defaultExpandParent?We(d.defaultExpandedKeys,u):d.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,a||t.expandedKeys){var h=$e(a||l.treeData,t.expandedKeys||l.expandedKeys,s);t.flattenNodes=h}if(d.selectable&&(r("selectedKeys")?t.selectedKeys=Ge(d.selectedKeys,d):!v&&d.defaultSelectedKeys&&(t.selectedKeys=Ge(d.defaultSelectedKeys,d))),d.checkable){var g;if(r("checkedKeys")?g=we(d.checkedKeys)||{}:!v&&d.defaultCheckedKeys?g=we(d.defaultCheckedKeys)||{}:a&&(g=we(d.checkedKeys)||{checkedKeys:l.checkedKeys,halfCheckedKeys:l.halfCheckedKeys}),g){var y=g,p=y.checkedKeys,b=p===void 0?[]:p,x=y.halfCheckedKeys,m=x===void 0?[]:x;if(!d.checkStrictly){var K=Ee(b,!0,u);b=K.checkedKeys,m=K.halfCheckedKeys}t.checkedKeys=b,t.halfCheckedKeys=m}}return r("loadedKeys")&&(t.loadedKeys=d.loadedKeys),t}}]),i}(w.exports.Component);ft.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:pn,allowDrop:function(){return!0},expandAction:!1};ft.TreeNode=pe;const vn=new Je("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),hn=(n,o)=>({[`.${n}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${o.motionDurationSlow}`}}}),gn=(n,o)=>({[`.${n}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:o.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${o.lineWidthBold}px solid ${o.colorPrimary}`,borderRadius:"50%",content:'""'}}}),yn=(n,o)=>{const{treeCls:i,treeNodeCls:e,treeNodePadding:d,treeTitleHeight:l}=o,v=o.paddingXS;return{[i]:Object.assign(Object.assign({},ye(o)),{background:o.colorBgContainer,borderRadius:o.borderRadius,transition:`background-color ${o.motionDurationSlow}`,[`&${i}-rtl`]:{[`${i}-switcher`]:{"&_close":{[`${i}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${i}-active-focused)`]:Object.assign({},Oe(o)),[`${i}-list-holder-inner`]:{alignItems:"flex-start"},[`&${i}-block-node`]:{[`${i}-list-holder-inner`]:{alignItems:"stretch",[`${i}-node-content-wrapper`]:{flex:"auto"},[`${e}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:d,insetInlineStart:0,border:`1px solid ${o.colorPrimary}`,opacity:0,animationName:vn,animationDuration:o.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${e}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${d}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${i}-node-content-wrapper`]:{color:o.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${i}-node-content-wrapper`]:Object.assign({},Oe(o)),[`&:not(${e}-disabled).filter-node ${i}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${i}-draggable-icon`]:{flexShrink:0,width:l,lineHeight:`${l}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${o.motionDurationSlow}`,[`${e}:hover &`]:{opacity:.45}},[`&${e}-disabled`]:{[`${i}-draggable-icon`]:{visibility:"hidden"}}}},[`${i}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:l}},[`${i}-draggable-icon`]:{visibility:"hidden"},[`${i}-switcher`]:Object.assign(Object.assign({},hn(n,o)),{position:"relative",flex:"none",alignSelf:"stretch",width:l,margin:0,lineHeight:`${l}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${i}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:o.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:l/2,bottom:-d,marginInlineStart:-1,borderInlineEnd:`1px solid ${o.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:l/2*.8,height:l/2,borderBottom:`1px solid ${o.colorBorder}`,content:'""'}}}),[`${i}-checkbox`]:{top:"initial",marginInlineEnd:v},[`${i}-node-content-wrapper, ${i}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:l,margin:0,padding:`0 ${o.paddingXS/2}px`,color:"inherit",lineHeight:`${l}px`,background:"transparent",borderRadius:o.borderRadius,cursor:"pointer",transition:`all ${o.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:o.controlItemBgHover},[`&${i}-node-selected`]:{backgroundColor:o.controlItemBgActive},[`${i}-iconEle`]:{display:"inline-block",width:l,height:l,lineHeight:`${l}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${i}-unselectable ${i}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${i}-node-content-wrapper`]:Object.assign({lineHeight:`${l}px`,userSelect:"none"},gn(n,o)),[`${e}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${o.colorPrimary}`}},"&-show-line":{[`${i}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:l/2,bottom:-d,borderInlineEnd:`1px solid ${o.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${i}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${e}-leaf-last`]:{[`${i}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${l/2}px !important`}}}}})}},bn=n=>{const{treeCls:o,treeNodeCls:i,treeNodePadding:e}=n;return{[`${o}${o}-directory`]:{[i]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:e,insetInlineStart:0,transition:`background-color ${n.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:n.controlItemBgHover}},"> *":{zIndex:1},[`${o}-switcher`]:{transition:`color ${n.motionDurationMid}`},[`${o}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${o}-node-selected`]:{color:n.colorTextLightSolid,background:"transparent"}},"&-selected":{[`
            &:hover::before,
            &::before
          `]:{background:n.colorPrimary},[`${o}-switcher`]:{color:n.colorTextLightSolid},[`${o}-node-content-wrapper`]:{color:n.colorTextLightSolid,background:"transparent"}}}}}},xn=(n,o)=>{const i=`.${n}`,e=`${i}-treenode`,d=o.paddingXS/2,l=o.controlHeightSM,v=Ze(o,{treeCls:i,treeNodeCls:e,treeNodePadding:d,treeTitleHeight:l});return[yn(n,v),bn(v)]},Sn=Qe("Tree",(n,o)=>{let{prefixCls:i}=o;return[{[n.componentCls]:st(`${i}-checkbox`,n)},xn(i,n),Kt(n)]}),mn=n=>{const{prefixCls:o,switcherIcon:i,treeNodeProps:e,showLine:d}=n,{isLeaf:l,expanded:v,loading:t}=e;if(t)return k(Nt,{className:`${o}-switcher-loading-icon`});let r;if(d&&typeof d=="object"&&(r=d.showLeafIcon),l){if(!d)return null;if(typeof r!="boolean"&&!!r){const c=typeof r=="function"?r(e):r,u=`${o}-switcher-line-custom-icon`;return He(c)?Fe(c,{className:B(c.props.className||"",u)}):c}return r?k(Pt,{className:`${o}-switcher-line-icon`}):k("span",{className:`${o}-switcher-leaf-line`})}const a=`${o}-switcher-icon`,s=typeof i=="function"?i(e):i;return He(s)?Fe(s,{className:B(s.props.className||"",a)}):s!==void 0?s:d?v?k(Mt,{className:`${o}-switcher-line-icon`}):k(Ht,{className:`${o}-switcher-line-icon`}):k(Et,{className:a})},Dn=mn;export{pe as C,Pt as F,Dn as S,ft as T,Ee as a,G as b,qt as c,q as d,Sn as e,We as f,Wt as g,xn as h,st as i,kn as u};
