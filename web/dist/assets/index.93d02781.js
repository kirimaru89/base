import{r as f,b as i,A,g as k,C as q,aS as X,h as G,_ as M,aT as Y}from"./index.d8d91588.js";import{e as Z,T as ee,S as te,F as ne,c as se,f as oe,g as re,C as ce}from"./iconUtil.3e86a04f.js";var ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const le=ae;var ie=function(o,s){return i(A,{...o,ref:s,icon:le})};const Ne=f.exports.forwardRef(ie);var de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const fe=de;var ue=function(o,s){return i(A,{...o,ref:s,icon:fe})};const pe=f.exports.forwardRef(ue);var xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};const ye=xe;var he=function(o,s){return i(A,{...o,ref:s,icon:ye})};const ve=f.exports.forwardRef(he),L=4;function ge(t){const{dropPosition:o,dropLevelOffset:s,prefixCls:n,indent:r,direction:e="ltr"}=t,c=e==="ltr"?"left":"right",x=e==="ltr"?"right":"left",a={[c]:-s*r+L,[x]:0};switch(o){case-1:a.top=-3;break;case 1:a.bottom=-3;break;default:a.bottom=-3,a[c]=r+L;break}return i("div",{style:a,className:`${n}-drop-indicator`})}const be=k.forwardRef((t,o)=>{const{getPrefixCls:s,direction:n,virtual:r,tree:e}=k.useContext(q),{prefixCls:c,className:x,showIcon:a=!1,showLine:S,switcherIcon:C,blockNode:b=!1,children:E,checkable:m=!1,selectable:O=!0,draggable:g,motion:K,style:D}=t,u=s("tree",c),j=s(),$=K!=null?K:Object.assign(Object.assign({},X(j)),{motionAppear:!1}),I=Object.assign(Object.assign({},t),{checkable:m,selectable:O,showIcon:a,motion:$,blockNode:b,showLine:Boolean(S),dropIndicatorRender:ge}),[w,H]=Z(u),y=k.useMemo(()=>{if(!g)return!1;let l={};switch(typeof g){case"function":l.nodeDraggable=g;break;case"object":l=Object.assign({},g);break}return l.icon!==!1&&(l.icon=l.icon||i(ve,{})),l},[g]),d=l=>i(te,{prefixCls:u,switcherIcon:C,treeNodeProps:l,showLine:S});return w(i(ee,{...Object.assign({itemHeight:20,ref:o,virtual:r},I,{style:Object.assign(Object.assign({},e==null?void 0:e.style),D),prefixCls:u,className:G({[`${u}-icon-hide`]:!a,[`${u}-block-node`]:b,[`${u}-unselectable`]:!O,[`${u}-rtl`]:n==="rtl"},e==null?void 0:e.className,x,H),direction:n,checkable:m&&i("span",{className:`${u}-checkbox-inner`}),selectable:O,switcherIcon:d,draggable:y}),children:E}))}),J=be;var v;(function(t){t[t.None=0]="None",t[t.Start=1]="Start",t[t.End=2]="End"})(v||(v={}));function F(t,o){function s(n){const{key:r,children:e}=n;o(r,n)!==!1&&F(e||[],o)}t.forEach(s)}function me(t){let{treeData:o,expandedKeys:s,startKey:n,endKey:r}=t;const e=[];let c=v.None;if(n&&n===r)return[n];if(!n||!r)return[];function x(a){return a===n||a===r}return F(o,a=>{if(c===v.End)return!1;if(x(a)){if(e.push(a),c===v.None)c=v.Start;else if(c===v.Start)return c=v.End,!1}else c===v.Start&&e.push(a);return s.includes(a)}),e}function z(t,o){const s=M(o),n=[];return F(t,(r,e)=>{const c=s.indexOf(r);return c!==-1&&(n.push(e),s.splice(c,1)),!!s.length}),n}var B=globalThis&&globalThis.__rest||function(t,o){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&o.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)o.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function Oe(t){const{isLeaf:o,expanded:s}=t;return o?i(ne,{}):s?i(Y,{}):i(pe,{})}function V(t){let{treeData:o,children:s}=t;return o||re(s)}const Ke=(t,o)=>{var{defaultExpandAll:s,defaultExpandParent:n,defaultExpandedKeys:r}=t,e=B(t,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const c=f.exports.useRef(),x=f.exports.useRef(),a=()=>{const{keyEntities:y}=se(V(e));let d;return s?d=Object.keys(y):n?d=oe(e.expandedKeys||r||[],y):d=e.expandedKeys||r,d},[S,C]=f.exports.useState(e.selectedKeys||e.defaultSelectedKeys||[]),[b,E]=f.exports.useState(()=>a());f.exports.useEffect(()=>{"selectedKeys"in e&&C(e.selectedKeys)},[e.selectedKeys]),f.exports.useEffect(()=>{"expandedKeys"in e&&E(e.expandedKeys)},[e.expandedKeys]);const m=(y,d)=>{var l;return"expandedKeys"in e||E(y),(l=e.onExpand)===null||l===void 0?void 0:l.call(e,y,d)},O=(y,d)=>{var l;const{multiple:_}=e,{node:Q,nativeEvent:h}=d,{key:N=""}=Q,T=V(e),P=Object.assign(Object.assign({},d),{selected:!0}),U=(h==null?void 0:h.ctrlKey)||(h==null?void 0:h.metaKey),W=h==null?void 0:h.shiftKey;let p;_&&U?(p=y,c.current=N,x.current=p,P.selectedNodes=z(T,p)):_&&W?(p=Array.from(new Set([].concat(M(x.current||[]),M(me({treeData:T,expandedKeys:b,startKey:N,endKey:c.current}))))),P.selectedNodes=z(T,p)):(p=[N],c.current=N,x.current=p,P.selectedNodes=z(T,p)),(l=e.onSelect)===null||l===void 0||l.call(e,p,P),"selectedKeys"in e||C(p)},{getPrefixCls:g,direction:K}=f.exports.useContext(q),{prefixCls:D,className:u,showIcon:j=!0,expandAction:$="click"}=e,I=B(e,["prefixCls","className","showIcon","expandAction"]),w=g("tree",D),H=G(`${w}-directory`,{[`${w}-directory-rtl`]:K==="rtl"},u);return i(J,{...Object.assign({icon:Oe,ref:o,blockNode:!0},I,{showIcon:j,expandAction:$,prefixCls:w,className:H,expandedKeys:b,selectedKeys:S,onSelect:O,onExpand:m})})},we=f.exports.forwardRef(Ke),Se=we,R=J;R.DirectoryTree=Se;R.TreeNode=ce;const Te=R;export{Ne as D,Te as T};
