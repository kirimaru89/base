import{r as o,ae as _t,G as ae,_ as oe,at as $e,b as R,j as Mt,aj as Kt,D as ht,J as $,aX as Xe,H as Vt,E as ut,ag as $t,l as Ot,m as mt,bd as Ht,C as At,b9 as Rt,h as ct,P as Wt,X as Ft,V as jt,Q as Bt,bb as zt,aO as dt,bc as Ut,ba as Xt}from"./index.d8d91588.js";import{u as Gt,a as Jt,B as Yt,b as Qt,g as qt,D as Zt,c as er,d as tr}from"./index.ec907f20.js";import{T as rr,c as nr,a as Ye,h as ar,i as or,S as lr}from"./iconUtil.3e86a04f.js";var gt=o.exports.createContext(null),xt=o.exports.createContext(null);function ir(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}function sr(e){var t=e||{},a=t.label,n=t.value,r=t.children,s=n||"value";return{_title:a?[a]:["title","label"],value:s,key:s,children:r||"children"}}function Qe(e){return!e||e.disabled||e.disableCheckbox||e.checkable===!1}function ur(e,t){var a=[];function n(r){r.forEach(function(s){var l=s[t.children];l&&(a.push(s[t.value]),n(l))})}return n(e),a}function ft(e){return e==null}var cr={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},dr=function(t,a){var n=Gt(),r=n.prefixCls,s=n.multiple,l=n.searchValue,u=n.toggleOpen,i=n.open,c=n.notFoundContent,d=o.exports.useContext(xt),T=d.virtual,y=d.listHeight,C=d.listItemHeight,E=d.treeData,L=d.fieldNames,W=d.onSelect,F=d.dropdownMatchSelectWidth,G=d.treeExpandAction,m=o.exports.useContext(gt),P=m.checkable,_=m.checkedKeys,le=m.halfCheckedKeys,O=m.treeExpandedKeys,Oe=m.treeDefaultExpandAll,xe=m.treeDefaultExpandedKeys,Ce=m.onTreeExpand,He=m.treeIcon,ie=m.showTreeIcon,se=m.switcherIcon,Se=m.treeLine,J=m.treeNodeFilterProp,q=m.loadData,H=m.treeLoadedKeys,ye=m.treeMotion,be=m.onTreeLoad,we=m.keyEntities,j=o.exports.useRef(),b=_t(function(){return E},[i,E],function(f,w){return w[0]&&f[1]!==w[1]}),ue=o.exports.useMemo(function(){return P?{checked:_,halfChecked:le}:null},[P,_,le]);o.exports.useEffect(function(){if(i&&!s&&_.length){var f;(f=j.current)===null||f===void 0||f.scrollTo({key:_[0]})}},[i]);var B=String(l).toLowerCase(),Ie=function(w){return B?String(w[J]).toLowerCase().includes(B):!1},ce=o.exports.useState(xe),de=ae(ce,2),Y=de[0],ke=de[1],Ee=o.exports.useState(null),Z=ae(Ee,2),ee=Z[0],fe=Z[1],Ne=o.exports.useMemo(function(){return O?oe(O):l?ee:Y},[Y,ee,O,l]);o.exports.useEffect(function(){l&&fe(ur(E,L))},[l]);var ve=function(w){ke(w),fe(w),Ce&&Ce(w)},Q=function(w){w.preventDefault()},z=function(w,U){var V=U.node;P&&Qe(V)||(W(V.key,{selected:!_.includes(V.key)}),s||u(!1))},De=o.exports.useState(null),K=ae(De,2),pe=K[0],Te=K[1],N=we[pe];if(o.exports.useImperativeHandle(a,function(){var f;return{scrollTo:(f=j.current)===null||f===void 0?void 0:f.scrollTo,onKeyDown:function(U){var V,Le=U.which;switch(Le){case $e.UP:case $e.DOWN:case $e.LEFT:case $e.RIGHT:(V=j.current)===null||V===void 0||V.onKeyDown(U);break;case $e.ENTER:{if(N){var Pe=(N==null?void 0:N.node)||{},te=Pe.selectable,_e=Pe.value;te!==!1&&z(null,{node:{key:pe},selected:!_.includes(_e)})}break}case $e.ESC:u(!1)}},onKeyUp:function(){}}}),b.length===0)return R("div",{role:"listbox",className:"".concat(r,"-empty"),onMouseDown:Q,children:c});var he={fieldNames:L};return H&&(he.loadedKeys=H),Ne&&(he.expandedKeys=Ne),Mt("div",{onMouseDown:Q,children:[N&&i&&R("span",{style:cr,"aria-live":"assertive",children:N.node.value}),R(rr,{ref:j,focusable:!1,prefixCls:"".concat(r,"-tree"),treeData:b,height:y,itemHeight:C,virtual:T!==!1&&F!==!1,multiple:s,icon:He,showIcon:ie,switcherIcon:se,showLine:Se,loadData:l?null:q,motion:ye,activeKey:pe,checkable:P,checkStrictly:!0,checkedKeys:ue,selectedKeys:P?[]:_,defaultExpandAll:Oe,...he,onActiveChange:Te,onSelect:z,onCheck:z,onExpand:ve,onLoad:be,filterTreeNode:Ie,expandAction:G})]})},Ct=o.exports.forwardRef(dr);Ct.displayName="OptionList";var Ze=function(){return null},St="SHOW_ALL",et="SHOW_PARENT",Ge="SHOW_CHILD";function vt(e,t,a,n){var r=new Set(e);return t===Ge?e.filter(function(s){var l=a[s];return!(l&&l.children&&l.children.some(function(u){var i=u.node;return r.has(i[n.value])})&&l.children.every(function(u){var i=u.node;return Qe(i)||r.has(i[n.value])}))}):t===et?e.filter(function(s){var l=a[s],u=l?l.parent:null;return!(u&&!Qe(u.node)&&r.has(u.key))}):e}var fr=["children","value"];function yt(e){return Kt(e).map(function(t){if(!o.exports.isValidElement(t)||!t.type)return null;var a=t,n=a.key,r=a.props,s=r.children,l=r.value,u=ht(r,fr),i=$({key:n,value:l},u),c=yt(s);return c.length&&(i.children=c),i}).filter(function(t){return t})}function qe(e){if(!e)return e;var t=$({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Xe(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function vr(e,t,a,n,r,s){var l=null,u=null;function i(){function c(d){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return d.map(function(C,E){var L="".concat(T,"-").concat(E),W=C[s.value],F=a.includes(W),G=c(C[s.children]||[],L,F),m=R(Ze,{...C,children:G.map(function(_){return _.node})});if(t===W&&(l=m),F){var P={pos:L,node:m,children:G};return y||u.push(P),P}return null}).filter(function(C){return C})}u||(u=[],c(n),u.sort(function(d,T){var y=d.node.props.value,C=T.node.props.value,E=a.indexOf(y),L=a.indexOf(C);return E-L}))}Object.defineProperty(e,"triggerNode",{get:function(){return Xe(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),i(),l}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return Xe(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),i(),r?u:u.map(function(d){var T=d.node;return T})}})}function pr(e,t){var a=t.id,n=t.pId,r=t.rootPId,s={},l=[],u=e.map(function(i){var c=$({},i),d=c[a];return s[d]=c,c.key=c.key||d,c});return u.forEach(function(i){var c=i[n],d=s[c];d&&(d.children=d.children||[],d.children.push(i)),(c===r||!d&&r===null)&&l.push(i)}),l}function hr(e,t,a){return o.exports.useMemo(function(){return e?a?pr(e,$({id:"id",pId:"pId",rootPId:null},a!==!0?a:{})):e:yt(t)},[t,a,e])}const mr=function(e){var t=o.exports.useRef({valueLabels:new Map});return o.exports.useMemo(function(){var a=t.current.valueLabels,n=new Map,r=e.map(function(s){var l,u=s.value,i=(l=s.label)!==null&&l!==void 0?l:a.get(u);return n.set(u,i),$($({},s),{},{label:i})});return t.current.valueLabels=n,[r]},[e])};function pt(e){var t=o.exports.useRef();t.current=e;var a=o.exports.useCallback(function(){return t.current.apply(t,arguments)},[]);return a}const gr=function(e,t){return o.exports.useMemo(function(){var a=nr(e,{fieldNames:t,initWrapper:function(r){return $($({},r),{},{valueEntities:new Map})},processEntity:function(r,s){var l=r.node[t.value];s.valueEntities.set(l,r)}});return a},[e,t])},xr=function(e,t,a,n){return o.exports.useMemo(function(){var r=e.map(function(i){var c=i.value;return c}),s=t.map(function(i){var c=i.value;return c}),l=r.filter(function(i){return!n[i]});if(a){var u=Ye(r,!0,n);r=u.checkedKeys,s=u.halfCheckedKeys}return[Array.from(new Set([].concat(oe(l),oe(r)))),s]},[e,t,a,n])},Cr=function(e,t,a){var n=a.treeNodeFilterProp,r=a.filterTreeNode,s=a.fieldNames,l=s.children;return o.exports.useMemo(function(){if(!t||r===!1)return e;var u;if(typeof r=="function")u=r;else{var i=t.toUpperCase();u=function(T,y){var C=y[n];return String(C).toUpperCase().includes(i)}}function c(d){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return d.map(function(y){var C=y[l],E=T||u(t,qe(y)),L=c(C||[],E);return E||L.length?$($({},y),{},Vt({isLeaf:void 0},l,L)):null}).filter(function(y){return y})}return c(e)},[e,t,l,n,r])};var Sr=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"];function yr(e){return!e||$t(e)!=="object"}var br=o.exports.forwardRef(function(e,t){var a=e.id,n=e.prefixCls,r=n===void 0?"rc-tree-select":n,s=e.value,l=e.defaultValue,u=e.onChange,i=e.onSelect,c=e.onDeselect,d=e.searchValue,T=e.inputValue,y=e.onSearch,C=e.autoClearSearchValue,E=C===void 0?!0:C,L=e.filterTreeNode,W=e.treeNodeFilterProp,F=W===void 0?"value":W,G=e.showCheckedStrategy,m=G===void 0?Ge:G,P=e.treeNodeLabelProp,_=e.multiple,le=e.treeCheckable,O=e.treeCheckStrictly,Oe=e.labelInValue,xe=e.fieldNames,Ce=e.treeDataSimpleMode,He=e.treeData,ie=e.children,se=e.loadData,Se=e.treeLoadedKeys,J=e.onTreeLoad,q=e.treeDefaultExpandAll,H=e.treeExpandedKeys,ye=e.treeDefaultExpandedKeys,be=e.onTreeExpand,we=e.treeExpandAction,j=e.virtual,b=e.listHeight,ue=b===void 0?200:b,B=e.listItemHeight,Ie=B===void 0?20:B,ce=e.onDropdownVisibleChange,de=e.dropdownMatchSelectWidth,Y=de===void 0?!0:de,ke=e.treeLine,Ee=e.treeIcon,Z=e.showTreeIcon,ee=e.switcherIcon,fe=e.treeMotion,Ne=ht(e,Sr),ve=Jt(a),Q=le&&!O,z=le||O,De=O||Oe,K=z||_,pe=ut(l,{value:s}),Te=ae(pe,2),N=Te[0],he=Te[1],f=o.exports.useMemo(function(){return sr(xe)},[JSON.stringify(xe)]),w=ut("",{value:d!==void 0?d:T,postState:function(v){return v||""}}),U=ae(w,2),V=U[0],Le=U[1],Pe=function(v){Le(v),y==null||y(v)},te=hr(He,ie,Ce),_e=gr(te,f),k=_e.keyEntities,A=_e.valueEntities,tt=o.exports.useCallback(function(p){var v=[],h=[];return p.forEach(function(g){A.has(g)?h.push(g):v.push(g)}),{missingRawValues:v,existRawValues:h}},[A]),rt=Cr(te,V,{fieldNames:f,treeNodeFilterProp:F,filterTreeNode:L}),nt=o.exports.useCallback(function(p){if(p){if(P)return p[P];for(var v=f._title,h=0;h<v.length;h+=1){var g=p[v[h]];if(g!==void 0)return g}}},[f,P]),Ae=o.exports.useCallback(function(p){var v=ir(p);return v.map(function(h){return yr(h)?{value:h}:h})},[]),je=o.exports.useCallback(function(p){var v=Ae(p);return v.map(function(h){var g=h.label,M=h.value,I=h.halfChecked,x,S=A.get(M);if(S){var D;g=(D=g)!==null&&D!==void 0?D:nt(S.node),x=S.node.disabled}else if(g===void 0){var re=Ae(N).find(function(Re){return Re.value===M});g=re.label}return{label:g,value:M,halfChecked:I,disabled:x}})},[A,nt,Ae,N]),at=o.exports.useMemo(function(){return Ae(N)},[Ae,N]),bt=o.exports.useMemo(function(){var p=[],v=[];return at.forEach(function(h){h.halfChecked?v.push(h):p.push(h)}),[p,v]},[at]),ot=ae(bt,2),Me=ot[0],lt=ot[1],it=o.exports.useMemo(function(){return Me.map(function(p){return p.value})},[Me]),wt=xr(Me,lt,Q,k),st=ae(wt,2),Ke=st[0],Be=st[1],It=o.exports.useMemo(function(){var p=vt(Ke,m,k,f),v=p.map(function(I){var x,S,D;return(x=(S=k[I])===null||S===void 0||(D=S.node)===null||D===void 0?void 0:D[f.value])!==null&&x!==void 0?x:I}),h=v.map(function(I){var x=Me.find(function(S){return S.value===I});return{value:I,label:x==null?void 0:x.label}}),g=je(h),M=g[0];return!K&&M&&ft(M.value)&&ft(M.label)?[]:g.map(function(I){var x;return $($({},I),{},{label:(x=I.label)!==null&&x!==void 0?x:I.value})})},[f,K,Ke,Me,je,m,k]),kt=mr(It),Et=ae(kt,1),Nt=Et[0],ze=pt(function(p,v,h){var g=je(p);if(he(g),E&&Le(""),u){var M=p;if(Q){var I=vt(p,m,k,f);M=I.map(function(X){var ne=A.get(X);return ne?ne.node[f.value]:X})}var x=v||{triggerValue:void 0,selected:void 0},S=x.triggerValue,D=x.selected,re=M;if(O){var Re=lt.filter(function(X){return!M.includes(X.value)});re=[].concat(oe(re),oe(Re))}var We=je(re),me={preValue:Me,triggerValue:S},Ve=!0;(O||h==="selection"&&!D)&&(Ve=!1),vr(me,S,p,te,Ve,f),z?me.checked=D:me.selected=D;var Ue=De?We:We.map(function(X){return X.value});u(K?Ue:Ue[0],De?null:We.map(function(X){return X.label}),me)}}),Je=o.exports.useCallback(function(p,v){var h,g=v.selected,M=v.source,I=k[p],x=I==null?void 0:I.node,S=(h=x==null?void 0:x[f.value])!==null&&h!==void 0?h:p;if(!K)ze([S],{selected:!0,triggerValue:S},"option");else{var D=g?[].concat(oe(it),[S]):Ke.filter(function(ne){return ne!==S});if(Q){var re=tt(D),Re=re.missingRawValues,We=re.existRawValues,me=We.map(function(ne){return A.get(ne).key}),Ve;if(g){var Ue=Ye(me,!0,k);Ve=Ue.checkedKeys}else{var X=Ye(me,{checked:!1,halfCheckedKeys:Be},k);Ve=X.checkedKeys}D=[].concat(oe(Re),oe(Ve.map(function(ne){return k[ne].node[f.value]})))}ze(D,{selected:g,triggerValue:S},M||"option")}g||!K?i==null||i(S,qe(x)):c==null||c(S,qe(x))},[tt,A,k,f,K,it,ze,Q,i,c,Ke,Be]),Dt=o.exports.useCallback(function(p){if(ce){var v={};Object.defineProperty(v,"documentClickClose",{get:function(){return Xe(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),ce(p,v)}},[ce]),Tt=pt(function(p,v){var h=p.map(function(g){return g.value});if(v.type==="clear"){ze(h,{},"selection");return}v.values.length&&Je(v.values[0].value,{selected:!1,source:"selection"})}),Lt=o.exports.useMemo(function(){return{virtual:j,dropdownMatchSelectWidth:Y,listHeight:ue,listItemHeight:Ie,treeData:rt,fieldNames:f,onSelect:Je,treeExpandAction:we}},[j,Y,ue,Ie,rt,f,Je,we]),Pt=o.exports.useMemo(function(){return{checkable:z,loadData:se,treeLoadedKeys:Se,onTreeLoad:J,checkedKeys:Ke,halfCheckedKeys:Be,treeDefaultExpandAll:q,treeExpandedKeys:H,treeDefaultExpandedKeys:ye,onTreeExpand:be,treeIcon:Ee,treeMotion:fe,showTreeIcon:Z,switcherIcon:ee,treeLine:ke,treeNodeFilterProp:F,keyEntities:k}},[z,se,Se,J,Ke,Be,q,H,ye,be,Ee,fe,Z,ee,ke,F,k]);return R(xt.Provider,{value:Lt,children:R(gt.Provider,{value:Pt,children:R(Yt,{ref:t,...Ne,id:ve,prefixCls:r,mode:K?"multiple":void 0,displayValues:Nt,onDisplayValuesChange:Tt,searchValue:V,onSearch:Pe,OptionList:Ct,emptyOptions:!te.length,onDropdownVisibleChange:Dt,dropdownMatchSelectWidth:Y})})})}),Fe=br;Fe.TreeNode=Ze;Fe.SHOW_ALL=St;Fe.SHOW_PARENT=et;Fe.SHOW_CHILD=Ge;const wr=e=>{const{componentCls:t,treePrefixCls:a,colorBgElevated:n}=e,r=`.${a}`;return[{[`${t}-dropdown`]:[{padding:`${e.paddingXS}px ${e.paddingXS/2}px`},ar(a,mt(e,{colorBgContainer:n})),{[r]:{borderRadius:0,[`${r}-list-holder-inner`]:{alignItems:"stretch",[`${r}-treenode`]:{[`${r}-node-content-wrapper`]:{flex:"auto"}}}}},or(`${a}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${r}-switcher${r}-switcher_close`]:{[`${r}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};function Ir(e,t){return Ot("TreeSelect",a=>{const n=mt(a,{treePrefixCls:t});return[wr(n)]})(e)}var kr=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};const Er=(e,t)=>{var a,{prefixCls:n,size:r,disabled:s,bordered:l=!0,className:u,rootClassName:i,treeCheckable:c,multiple:d,listHeight:T=256,listItemHeight:y=26,placement:C,notFoundContent:E,switcherIcon:L,treeLine:W,getPopupContainer:F,popupClassName:G,dropdownClassName:m,treeIcon:P=!1,transitionName:_,choiceTransitionName:le="",status:O,showArrow:Oe,treeExpandAction:xe,builtinPlacements:Ce,dropdownMatchSelectWidth:He,popupMatchSelectWidth:ie}=e,se=kr(e,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","showArrow","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth"]);const{getPopupContainer:Se,getPrefixCls:J,renderEmpty:q,direction:H,virtual:ye,popupMatchSelectWidth:be,popupOverflow:we}=o.exports.useContext(At),j=J(),b=J("select",n),ue=J("select-tree",n),B=J("tree-select",n),{compactSize:Ie,compactItemClassnames:ce}=Rt(b,H),[de,Y]=Qt(b),[ke]=Ir(B,ue),Ee=ct(G||m,`${B}-dropdown`,{[`${B}-dropdown-rtl`]:H==="rtl"},i,Y),Z=!!(c||d),ee=tr(Oe),fe=(a=ie!=null?ie:He)!==null&&a!==void 0?a:be,{status:Ne,hasFeedback:ve,isFormItemInput:Q,feedbackIcon:z}=o.exports.useContext(Wt),De=Xt(Ne,O),{suffixIcon:K,removeIcon:pe,clearIcon:Te}=qt(Object.assign(Object.assign({},se),{multiple:Z,showArrow:ee,hasFeedback:ve,feedbackIcon:z,prefixCls:b}));let N;E!==void 0?N=E:N=(q==null?void 0:q("Select"))||R(Zt,{componentName:"Select"});const he=Ft(se,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon"]),f=o.exports.useMemo(()=>C!==void 0?C:H==="rtl"?"bottomRight":"bottomLeft",[C,H]),w=er(Ce,we),U=jt(k=>{var A;return(A=r!=null?r:Ie)!==null&&A!==void 0?A:k}),V=o.exports.useContext(Bt),Le=s!=null?s:V,Pe=ct(!n&&B,{[`${b}-lg`]:U==="large",[`${b}-sm`]:U==="small",[`${b}-rtl`]:H==="rtl",[`${b}-borderless`]:!l,[`${b}-in-form-item`]:Q},zt(b,De,ve),ce,u,i,Y),te=k=>R(lr,{prefixCls:ue,switcherIcon:L,treeNodeProps:k,showLine:W}),_e=R(Fe,{...Object.assign({virtual:ye,disabled:Le},he,{dropdownMatchSelectWidth:fe,builtinPlacements:w,ref:t,prefixCls:b,className:Pe,listHeight:T,listItemHeight:y,treeCheckable:c&&R("span",{className:`${b}-tree-checkbox-inner`}),treeLine:!!W,inputIcon:K,multiple:Z,placement:f,removeIcon:pe,clearIcon:Te,switcherIcon:te,showTreeIcon:P,notFoundContent:N,getPopupContainer:F||Se,treeMotion:null,dropdownClassName:Ee,choiceTransitionName:dt(j,"",le),transitionName:dt(j,Ut(C),_),showArrow:ve||ee,treeExpandAction:xe})});return de(ke(_e))},Nr=o.exports.forwardRef(Er),ge=Nr,Dr=Ht(ge);ge.TreeNode=Ze;ge.SHOW_ALL=St;ge.SHOW_PARENT=et;ge.SHOW_CHILD=Ge;ge._InternalPanelDoNotUseOrYouWillBeFired=Dr;const _r=ge;export{_r as T};
